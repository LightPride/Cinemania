{"mappings":"AAAA,MAAMA,EAAYC,SAASC,cAAc,0BAMzC,SAASC,IAEL,OAAOC,MAAM,6FACRC,MAAKC,IAEF,IAAKA,EAAUC,GACX,MAAM,IAAIC,MAAMF,EAAUG,QAE9B,OAAOH,EAAUI,MAAM,G,CA2BnC,SAASC,IACLR,IAAoBE,MAAKO,IACrB,MAAMC,EAASD,EAAKE,QAEpB,IAAIC,EADJC,QAAQC,IAAIJ,GAKRE,EAFAG,OAAOC,WAAW,sBAAsBC,QAEhC,EACDF,OAAOC,WAAW,uBAAuBC,QAExC,EAGA,EAlCpB,SAAsBP,EAAQE,GAC1Bf,EAAUqB,UAAY,GAEtBR,EAAOS,MAAM,EAAGP,GAAOQ,SAAQC,IAC3B,MAAMC,EAAKxB,SAASyB,cAAc,MAC5BC,EAAQ1B,SAASyB,cAAc,MAC/BE,EAAM3B,SAASyB,cAAc,OAC7BG,EAAS5B,SAASyB,cAAc,QAEtCC,EAAMG,UAAYN,EAAMG,MACxBC,EAAIG,IAAM,kCAAkCP,EAAMQ,cAClDH,EAAOC,UAAYN,EAAMS,aAEzBR,EAAGS,YAAYP,GACfF,EAAGS,YAAYN,GACfH,EAAGS,YAAYL,GACf7B,EAAUkC,YAAYT,EAAG,G,CAqBzBU,CAAatB,EAAQE,EAAM,IAC5BqB,OAAMC,GAASrB,QAAQC,IAAIoB,I,CAzClClC,IA4CAQ,IAGAO,OAAOoB,iBAAiB,SAAU3B","sources":["src/js/home-trends.js"],"sourcesContent":["const container = document.querySelector('.weekly-trends__insert');\n\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\n\nfunction fetchTrendsMovies() {\n    //developers.themoviedb.org/3/trending/get-trending\n    return fetch(`${BASE_URL}?api_key=${API_KEY}`)\n        .then(movieData => {\n\n            if (!movieData.ok) {\n                throw new Error(movieData.status)\n            }\n            return movieData.json()\n\n        })\n}\nfetchTrendsMovies()\n\n\nfunction renderMovies(movies, count) {\n    container.innerHTML = '';\n\n    movies.slice(0, count).forEach(movie => {\n        const li = document.createElement('li');\n        const title = document.createElement('h3');\n        const img = document.createElement('img');\n        const rating = document.createElement('span');\n\n        title.innerText = movie.title;\n        img.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n        rating.innerText = movie.vote_average;\n\n        li.appendChild(title);\n        li.appendChild(img);\n        li.appendChild(rating);\n        container.appendChild(li);\n    });\n}\n\nfunction getFetchedMovies() {\n    fetchTrendsMovies().then(data => {\n        const movies = data.results;\n        console.log(movies);\n        let count;\n\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            // mobile\n            count = 1;\n        } else if (window.matchMedia('(max-width: 1023px)').matches) {\n            // tablet\n            count = 2;\n        } else {\n            // desktop\n            count = 3;\n        }\n\n        renderMovies(movies, count);\n    }).catch(error => console.log(error));\n}\n\ngetFetchedMovies();\n\n// Listen to resize events and update the rendered movies\nwindow.addEventListener('resize', getFetchedMovies);\n\n"],"names":["$d3fe7bef80e36203$var$container","document","querySelector","$d3fe7bef80e36203$var$fetchTrendsMovies","fetch","then","movieData","ok","Error","status","json","$d3fe7bef80e36203$var$getFetchedMovies","data","movies","results","count","console","log","window","matchMedia","matches","innerHTML","slice","forEach","movie","li","createElement","title","img","rating","innerText","src","poster_path","vote_average","appendChild","$d3fe7bef80e36203$var$renderMovies","catch","error","addEventListener"],"version":3,"file":"index.189422b6.js.map"}