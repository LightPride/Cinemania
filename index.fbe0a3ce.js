const t=document.querySelector(".upcoming__insert");async function n(t){const n=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ec3ca0e4403710b7fc1497b1dbf32c54&language=en-US"),e=await n.json();return t.map((t=>e.genres.find((n=>n.id===t)).name)).join(", ")}!async function(){try{const e=(await fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=ec3ca0e4403710b7fc1497b1dbf32c54&language=en-US&page=1").then((t=>{if(!t.ok)throw new Error(t.status);return t.json()}))).results;if(e.length>=1){const i=e[Math.floor(Math.random()*e.length)],s=await n(i.genre_ids),a=await async function({poster_path:t,backdrop_path:e,title:i,overview:s,popularity:a,vote_average:o,vote_count:l,release_date:c,genre_ids:r}){const p=await n(r);return`\n    <div class="desktop-positioning">\n      <div class="desktop-left">\n      \n      <picture class='.upcoming__poster'>\n      <source srcset="https://image.tmdb.org/t/p/original/${e}" media="(min-width: 1220px)" class='upcoming__poster-desktop' />\n      <source srcset="https://image.tmdb.org/t/p/original/${e}" media="(min-width: 768px)" class='upcoming__poster-tablet' />\n      <source srcset="https://image.tmdb.org/t/p/original/${t}" media="(min-width: 320px)" />\n      <img src="https://image.tmdb.org/t/p/original/${t}" alt="Movie Poster" style='width: 805px'/>\n    </picture>\n\n      </div>\n      <div class="desktop-right"> \n        <p class="upcoming__movie-name">${i}</p>\n\n        <div class="upcoming__infolist">\n          <div class="first-upcoming-div">\n\n            <ul class="rel-vote-list">\n              <li><p class="upcoming__about-item">Release date</p></li>\n              <li><p class="upcoming__about-item">Vote / Votes</p></li>\n            </ul>\n            <ul class="rel-vote-list-value" >\n              <li><p class="upcoming__release">${c}</p></li>\n              <li><p class="upcoming__vote"></p>\n              <span class="vote__styling">${o}</span>\n              / \n              <span class="vote__styling">${l}</span>\n              </li>\n            </ul>\n\n          </div>\n\n          <div class="second-upcoming-div">\n\n            <ul class="pop-gen-list">\n              <li><p class="upcoming__about-item">Popularity</p></li>\n              <li><p class="upcoming__about-item">Genre</p></li>\n            </ul>\n\n            <ul class="pop-gen-list-value">\n              <li><p class="upcoming__popularity">${a}</p></li>\n              <li><p class="upcoming__genre"></p>${p}</li>\n            </ul>\n\n          </div>\n        </div>\n\n        <p class="upcoming__about-title">ABOUT</p>\n        <p class="upcoming__about">${s}</p>\n\n        <button type="button" class="linear_btn" id="upcoming_btn">Remind me</button>\n      </div>\n    </div>\n  `}({...i,genreNames:s});t.insertAdjacentHTML("afterbegin",a);const o=document.getElementById("upcoming_btn");let l=localStorage.getItem("myLibraryIds"),c=JSON.parse(l);c.idsArray.includes(MOVIE_ID)?o.textContent="Remove from my library":o.textContent="Remind me",o.addEventListener("click",(()=>{if(l=localStorage.getItem("myLibraryIds"),c=JSON.parse(l),c.idsArray.includes(MOVIE_ID)){const t=c.idsArray.indexOf(MOVIE_ID);return c.idsArray.splice(t,1),void localStorage.setItem("myLibraryIds",`${JSON.stringify(c)}`)}"Remind me"===o.textContent?o.textContent="Remove from my library":o.textContent="Remind me",c.idsArray.push(MOVIE_ID),localStorage.setItem("myLibraryIds",`${JSON.stringify(c)}`)}))}}catch(t){console.log(t)}}();
//# sourceMappingURL=index.fbe0a3ce.js.map
