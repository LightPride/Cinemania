!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire6cf5;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire6cf5=a),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return r.default(e)};var n,r=(n=a("8NIkP"))&&n.__esModule?n:{default:n}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return r.default(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r.default(e,t)};var n,r=(n=a("8NIkP"))&&n.__esModule?n:{default:n}}));var i=a("bpxeT"),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return s.default(e)||c.default(e)||d.default(e)||u.default()};var s=l(a("kMC0W")),c=l(a("7AJDX")),u=l(a("8CtQK")),d=l(a("auk6i"));function l(e){return e&&e.__esModule?e:{default:e}}var p=a("2TvXO"),f="ec3ca0e4403710b7fc1497b1dbf32c54",m="https://api.themoviedb.org/3/trending/movie/week",v=document.querySelector("#movies-container");function y(){return(y=e(i)(e(p).mark((function t(){var n,r,a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"?api_key=").concat(f,"&language=en-US&page=1"));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.status);case 6:return e.next=8,n.json();case 8:return r=e.sent,a=r.results,e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=e(i)(e(p).mark((function t(n){var r,a;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(f,"&language=en-US"));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent.genres,e.abrupt("return",n.map((function(e){var t;return null===(t=a.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})).join(", "));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(e){var t=document.createElement("div");t.classList.add("stars-container");var n=document.createElement("div");n.classList.add("st-gray"),n.classList.add("flex"),n.innerHTML="⭐⭐⭐⭐⭐";var r=document.createElement("div");r.innerHTML="⭐⭐⭐⭐⭐",r.classList.add("st"),r.classList.add("flex"),t.append(n,r),document.body.appendChild(t);var a=r.offsetHeight;return r.style.width="".concat(e/2*a,"px"),t}function _(){return _=e(i)(e(p).mark((function t(n,r){var a,s,c,u;return e(p).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.innerHTML="",(s=document.createElement("ul")).classList.add("weekly-list"),v.appendChild(s),c=n.slice(0,r),t.next=8,Promise.all(c.map(function(){var t=e(i)(e(p).mark((function t(n){var r,a,i,o,s,c,u,d,l,f,m,v,y;return e(p).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n.genre_ids);case 2:return r=e.sent,a=n.title.slice(0,n.title.indexOf(":")),i=n.release_date.slice(0,4),o=n.vote_average.toFixed(1),(s=document.createElement("li")).classList.add("weekly-item"),(c=document.createElement("div")).classList.add("weekly-wrapper"),(u=document.createElement("div")).classList.add("weekly-info"),(d=document.createElement("h3")).classList.add("weekly-info__title"),d.innerText="".concat(a),(l=document.createElement("span")).classList.add("weekly-info__genres__data"),l.innerText="".concat(r," | ").concat(i),(f=document.createElement("div")).classList.add("weekly-rating"),(m=document.createElement("span")).innerText="".concat(o),f.appendChild(m),(v=document.createElement("div")).classList.add("catalog-list__additional-info"),v.appendChild(l),v.appendChild(w(o)),v.title=o,(y=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(n.poster_path),y.alt="".concat(n.title," movie poster"),y.classList.add("weekly-img"),y.setAttribute("width","500"),u.appendChild(d),u.appendChild(v),c.appendChild(u),s.appendChild(c),s.appendChild(y),e.abrupt("return",s);case 39:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:u=t.sent,(a=s).append.apply(a,e(o)(u));case 10:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function x(){var e=window.innerWidth<768?1:3;(function(){return y.apply(this,arguments)})().then((function(t){return function(e,t){return _.apply(this,arguments)}(t,e)}))}x(),window.addEventListener("resize",x)}();
//# sourceMappingURL=index.113b785b.js.map
