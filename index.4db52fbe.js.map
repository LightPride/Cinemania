{"mappings":"YAAA,IAAMA,EAAYC,SAASC,cAAc,0BAMzC,SAASC,IAEL,OAAOC,MAAM,GAAuBC,OAJvB,mDAIY,aAAmBA,OALhC,qCAMPC,MAAK,SAAAC,GAEF,IAAKA,EAAUC,GACX,MAAM,IAAIC,MAAMF,EAAUG,QAE9B,OAAOH,EAAUI,M,IA2B7B,SAASC,IACLT,IAAoBG,MAAK,SAAAO,GACrB,IAAMC,EAASD,EAAKE,QACpBC,QAAQC,IAAIH,GAvBpB,SAAsBA,EAAQI,GAC1BlB,EAAUmB,UAAY,GAEtBL,EAAOM,MAAM,EAAGF,GAAOG,SAAQ,SAAAC,GAC3B,IAAMC,EAAKtB,SAASuB,cAAc,MAC5BC,EAAQxB,SAASuB,cAAc,MAC/BE,EAAMzB,SAASuB,cAAc,OAC7BG,EAAS1B,SAASuB,cAAc,QAEtCC,EAAMG,UAAYN,EAAMG,MACxBC,EAAIG,IAAM,kCAAoDxB,OAAlBiB,EAAMQ,aAClDH,EAAOC,UAAYN,EAAMS,aAEzBR,EAAGS,YAAYP,GACfF,EAAGS,YAAYN,GACfH,EAAGS,YAAYL,GACf3B,EAAUgC,YAAYT,E,IAqBtBU,CAAanB,EAXToB,OAAOC,WAAW,sBAAsBC,QAEhC,EACDF,OAAOC,WAAW,uBAAuBC,QAExC,EAGA,E,IAIbC,OAAM,SAAAC,G,OAAStB,QAAQC,IAAIqB,E,IAzClCnC,IA4CAS,IAGAsB,OAAOK,iBAAiB,SAAU3B,E","sources":["src/js/home-trends.js"],"sourcesContent":["const container = document.querySelector('.weekly-trends__insert');\n\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\n\nfunction fetchTrendsMovies() {\n    //developers.themoviedb.org/3/trending/get-trending\n    return fetch(`${BASE_URL}?api_key=${API_KEY}`)\n        .then(movieData => {\n\n            if (!movieData.ok) {\n                throw new Error(movieData.status)\n            }\n            return movieData.json()\n\n        })\n}\nfetchTrendsMovies()\n\n\nfunction renderMovies(movies, count) {\n    container.innerHTML = '';\n\n    movies.slice(0, count).forEach(movie => {\n        const li = document.createElement('li');\n        const title = document.createElement('h3');\n        const img = document.createElement('img');\n        const rating = document.createElement('span');\n\n        title.innerText = movie.title;\n        img.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n        rating.innerText = movie.vote_average;\n\n        li.appendChild(title);\n        li.appendChild(img);\n        li.appendChild(rating);\n        container.appendChild(li);\n    });\n}\n\nfunction getFetchedMovies() {\n    fetchTrendsMovies().then(data => {\n        const movies = data.results;\n        console.log(movies);\n        let count;\n\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            // mobile\n            count = 1;\n        } else if (window.matchMedia('(max-width: 1023px)').matches) {\n            // tablet\n            count = 2;\n        } else {\n            // desktop\n            count = 3;\n        }\n\n        renderMovies(movies, count);\n    }).catch(error => console.log(error));\n}\n\ngetFetchedMovies();\n\n// Listen to resize events and update the rendered movies\nwindow.addEventListener('resize', getFetchedMovies);\n\n"],"names":["$939ee5152d9a1dc7$var$container","document","querySelector","$939ee5152d9a1dc7$var$fetchTrendsMovies","fetch","concat","then","movieData","ok","Error","status","json","$939ee5152d9a1dc7$var$getFetchedMovies","data","movies","results","console","log","count","innerHTML","slice","forEach","movie","li","createElement","title","img","rating","innerText","src","poster_path","vote_average","appendChild","$939ee5152d9a1dc7$var$renderMovies","window","matchMedia","matches","catch","error","addEventListener"],"version":3,"file":"index.4db52fbe.js.map"}