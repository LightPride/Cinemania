{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","src/js/home-trends.js","node_modules/@swc/helpers/lib/_to_consumable_array.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","const API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\nconst TABLET_WIDTH_THRESHOLD = 768;\nconst colWidthClass = 'col-md-4';\n\nconst container = document.querySelector('#movies-container');\n\nasync function fetchTrendsMovies() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    const { results: movieData } = await response.json();\n    return movieData;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function getGenresById(genreIds) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=en-US`\n  );\n  const { genres } = await response.json();\n  return genreIds\n    .map(genreId => genres.find(genre => genre.id === genreId)?.name)\n    .join(', ');\n}\n\n// зірочки\n\nfunction createStarRating(rating) {\n  const starsContainer = document.createElement('div');\n  starsContainer.classList.add('stars-container');\n  const grayStars = document.createElement('div');\n  grayStars.classList.add('st-gray');\n  grayStars.classList.add('flex');\n  grayStars.innerHTML = '⭐⭐⭐⭐⭐';\n  const fullStars = document.createElement('div');\n  fullStars.innerHTML = '⭐⭐⭐⭐⭐';\n  fullStars.classList.add('st');\n  fullStars.classList.add('flex');\n  starsContainer.append(grayStars, fullStars);\n  document.body.appendChild(starsContainer);\n  const height = fullStars.offsetHeight;\n  fullStars.style.width = `${(rating / 2) * height}px`;\n  return starsContainer;\n}\n\nasync function renderMovies(movies, count) {\n  container.innerHTML = '';\n  const moviesContainer = document.createElement('ul');\n  moviesContainer.classList.add('weekly-list');\n  container.appendChild(moviesContainer);\n\n  const movieList = movies.slice(0, count);\n\n  const movieElements = await Promise.all(\n    movieList.map(async movie => {\n      const genres = await getGenresById(movie.genre_ids);\n      const shortenedTitle = movie.title.slice(0, movie.title.indexOf(':'));\n      const releaseYear = movie.release_date.slice(0, 4);\n      const ratingValue = movie.vote_average.toFixed(1);\n\n      const li = document.createElement('li');\n      li.classList.add('weekly-item');\n\n      const wrapper = document.createElement('div');\n      wrapper.classList.add('weekly-wrapper');\n\n      const movieDetails = document.createElement('div');\n      movieDetails.classList.add('weekly-info');\n\n      const title = document.createElement('h3');\n      title.classList.add('weekly-info__title');\n      title.innerText = `${shortenedTitle}`;\n\n      const releaseDateAndGenre = document.createElement('span');\n      releaseDateAndGenre.classList.add('weekly-info__genres__data');\n      releaseDateAndGenre.innerText = `${genres\n        .split(',')\n        .slice(0, 1)\n        .join(', ')} | ${releaseYear}`;\n\n      const movieRating = document.createElement('div');\n      movieRating.classList.add('weekly-rating');\n      const ratingValueEl = document.createElement('span');\n      ratingValueEl.innerText = `${ratingValue}`;\n      movieRating.appendChild(ratingValueEl);\n\n      const additionalInfo = document.createElement('div');\n      additionalInfo.classList.add('catalog-list__additional-info');\n      additionalInfo.appendChild(releaseDateAndGenre);\n      additionalInfo.appendChild(createStarRating(ratingValue));\n      additionalInfo.title = ratingValue;\n\n      const poster = document.createElement('img');\n      poster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n      poster.alt = `${movie.title} movie poster`;\n      poster.classList.add('weekly-img');\n      poster.setAttribute('width', '500');\n\n      movieDetails.appendChild(title);\n      movieDetails.appendChild(additionalInfo);\n\n      wrapper.appendChild(movieDetails);\n      li.appendChild(wrapper);\n      li.appendChild(poster);\n\n      return li;\n    })\n  );\n\n  moviesContainer.append(...movieElements);\n}\n\nfunction getFetchedMovies() {\n  const count = window.innerWidth < TABLET_WIDTH_THRESHOLD ? 1 : 3;\n  fetchTrendsMovies().then(movies => renderMovies(movies, count));\n}\n\ngetFetchedMovies();\n\nwindow.addEventListener('resize', getFetchedMovies);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","obj","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$bpxeT","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$939ee5152d9a1dc7$var$API_KEY","$939ee5152d9a1dc7$var$BASE_URL","$939ee5152d9a1dc7$var$container","document","querySelector","$939ee5152d9a1dc7$var$_fetchTrendsMovies","$parcel$interopDefault","$2TvXO","mark","_callee","response","ref","movieData","fetch","concat","_ctx","sent","ok","Error","status","json","results","console","log","t0","apply","this","arguments","$939ee5152d9a1dc7$var$getGenresById","genreIds","$939ee5152d9a1dc7$var$_getGenresById","genres","map","genreId","find","genre","id","join","$939ee5152d9a1dc7$var$createStarRating","rating","starsContainer","createElement","classList","add","grayStars","innerHTML","fullStars","append","body","appendChild","height","offsetHeight","style","width","$939ee5152d9a1dc7$var$_renderMovies","_callee1","movies","count","_moviesContainer","moviesContainer","movieList","movieElements","Promise","all","movie","shortenedTitle","releaseYear","ratingValue","li","wrapper","movieDetails","title","releaseDateAndGenre","movieRating","ratingValueEl","additionalInfo","poster","genre_ids","indexOf","release_date","vote_average","toFixed","innerText","split","src","poster_path","alt","setAttribute","_ctx1","$939ee5152d9a1dc7$var$getFetchedMovies","window","innerWidth","$939ee5152d9a1dc7$var$fetchTrendsMovies","then","$939ee5152d9a1dc7$var$renderMovies","addEventListener"],"version":3,"file":"index.6c1d16a5.js.map"}