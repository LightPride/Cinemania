{"mappings":"AAAA,MAAMA,EAAO,CACbC,YAAaC,SAASC,cAAc,iBACpCC,gBAAiBF,SAASG,eAAe,aACzCC,YAAaJ,SAASG,eAAe,iBAwCrC,SAASE,EAAOC,GAEZ,MAAO,0CAC4BA,EAAKC,iJAEpCD,EAAKE,2BAA2BF,EAAKC,gEAEID,EAAKC,gCAC7BD,EAAKC,OAAOD,EAAKG,qCAClBH,EAAKC,sBAAsBD,EAAKC,OAAOD,EAAKI,kCAAkCJ,EAAKC,OAAOD,EAAKK,+FAGpEL,EAAKC,OAAOD,EAAKM,uC,CA9CpEd,EAAKI,gBAAgBW,iBAAiB,SAEtC,SAAiCC,GAC7BC,QAAQC,IAAI,+BAuBLC,MAAM,sCAAeC,aAAaC,QAAQ,0DAChDC,MAAKC,GACGA,EAAKC,SAvBEF,MAAKC,IACjB,MAAMf,EAAO,CACXG,MAAOY,EAAKZ,MACZc,WAAYF,EAAKb,YACjBE,OAAQW,EAAKX,OACbc,YAAaH,EAAKV,aAAac,UAAU,EAAG,GAC5ClB,GAAIc,EAAKd,GACTmB,YAAaL,EAAKT,cAGpBG,QAAQC,IAAIV,GAEZS,QAAQC,IAAIX,EAAOC,IACnBS,QAAQC,IAAIlB,EAAKM,aACjBN,EAAKM,YAAYuB,mBAAmB,YAAatB,EAAOC,GAAM,G,IAgCtES,QAAQC,IAAIlB,EAAKM","sources":["src/js/localstorage.js"],"sourcesContent":["const refs = {\nupcomingBtn: document.querySelector('#upcoming_btn'),\naddToLibraryBtn: document.getElementById('mylibrary'),\nlibraryList: document.getElementById('library_list'),\n}\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\n\nrefs.addToLibraryBtn.addEventListener('click', onAddToLibraryBtnClick);\n\nfunction onAddToLibraryBtnClick (e) {\n    console.log('click on add to library btn');\n\n    fetchFilmById().then(data => {\n        const film = {\n          title: data.title,\n          posterPath: data.poster_path,\n          genres: data.genres,\n          releaseYear: data.release_date.substring(0, 4),\n          id: data.id,\n          voteAverage: data.vote_average,\n        };\n      \n        console.log(film); // Вывести объект фильма в консоль\n\n        console.log(markup(film));\n        console.log(refs.libraryList);\n        refs.libraryList.insertAdjacentHTML('beforeend', markup(film));\n      });\n\n\n}\n\nfunction fetchFilmById() {\n    return fetch(`${POPUP_URL}${localStorage.getItem('mylbery-id')}?api_key=${API_KEY}`)\n    .then(data => {    \n      return data.json()  \n    })\n  }\n\n\n\nfunction markup(film) {\n\n    return `\n    <li class=\"movie__card\" data-id=\"${film.id}\">\n        <div class=\"movie__card-poster\" style=\"background-image: linear-gradient(rgba(0,0,0,0),rgba(0, 0, 0, 0), rgba(0,0,0,1)),\n  url(${film.poster_path});\" data-id=\"${film.id}\"></div>\n\n        <div class=\"movie__card-info\" data-id=\"${film.id}\">\n          <h3 data-id=\"${film.id}\">${film.title}</h3>\n          <p data-id=\"${film.id}\"><span data-id=\"${film.id}\">${film.genres}</span> | <span data-id=\"${film.id}\">${film.release_date}</span></p>\n        </div>\n\n        <div class=\"movie__card-rating\" data-id=\"${film.id}\">${film.vote_average}</div>\n      </li>\n    `\n}\n\nconsole.log(refs.libraryList);"],"names":["$89a4baeedb6cdec9$var$refs","upcomingBtn","document","querySelector","addToLibraryBtn","getElementById","libraryList","$89a4baeedb6cdec9$var$markup","film","id","poster_path","title","genres","release_date","vote_average","addEventListener","e","console","log","fetch","localStorage","getItem","then","data","json","posterPath","releaseYear","substring","voteAverage","insertAdjacentHTML"],"version":3,"file":"library.b7d54235.js.map"}