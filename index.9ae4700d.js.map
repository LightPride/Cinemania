{"mappings":"AAAkBA,SAASC,eAAe,oBAqB1CC,eAAeC,EAAaC,EAAQC,GAClC,MAAMC,EAAYN,SAASO,cAAc,qBACzCD,EAAUE,UAAY,GACtB,MAAMC,EAAkBT,SAASU,cAAc,MAC/CD,EAAgBE,UAAUC,IAAI,eAC9BN,EAAUO,YAAYJ,GAEtBL,EAAOU,MAAM,EAAGT,GAAOU,SAAQb,MAAMc,IACnC,MAAMC,QAiDVf,eAA6BgB,GAC3B,MAAMC,EAAU,mCACVC,EAAW,gDAEXC,QAAiBC,MAAM,GAAGF,aAAoBD,oBAC9CI,QAAaF,EAASG,OAO5B,OALmBN,EAASO,KAAIC,GAChBH,EAAKN,OAAOU,MAAKC,GAASA,EAAMC,KAAOH,IACxCI,OAGGC,KAAK,K,CA7DAC,CAAchB,EAAMiB,WACnCC,EAAKlC,SAASU,cAAc,MAClCwB,EAAGvB,UAAUC,IAAI,eAEjB,MAAMuB,EAAUnC,SAASU,cAAc,OACvCyB,EAAQxB,UAAUC,IAAI,kBAEtB,MAAMwB,EAAepC,SAASU,cAAc,OAC5C0B,EAAazB,UAAUC,IAAI,eAE3B,MAAMyB,EAAiBrB,EAAMsB,MAAMxB,MAAM,EAAGE,EAAMsB,MAAMC,QAAQ,MAC1DD,EAAQtC,SAASU,cAAc,MACrC4B,EAAM3B,UAAUC,IAAI,sBACpB0B,EAAME,UAAY,GAAGH,IAErB,MAAMI,EAAsBzC,SAASU,cAAc,QACnD+B,EAAoB9B,UAAUC,IAAI,6BAClC6B,EAAoBD,UAAY,GAAGvB,EAChCyB,MAAM,KACN5B,MAAM,EAAG,GACTiB,KAAK,WAAWf,EAAM2B,aAAa7B,MAAM,EAAG,KAE/C,MAAM8B,EAAc5C,SAASU,cAAc,OAC3CkC,EAAYjC,UAAUC,IAAI,iBAC1B,MAAMiC,EAAc7C,SAASU,cAAc,QAC3CmC,EAAYL,UAAY,GAAGxB,EAAM8B,aAAaC,QAAQ,KACtDH,EAAY/B,YAAYgC,GAExB,MAAMG,EAAiBhD,SAASU,cAAc,OAC9CsC,EAAerC,UAAUC,IAAI,iCAC7BoC,EAAenC,YAAY4B,GAC3BO,EAAenC,YAAY+B,GAE3B,MAAMK,EAASjD,SAASU,cAAc,OACtCuC,EAAOC,IAAM,kCAAkClC,EAAMmC,cACrDF,EAAOG,IAAM,GAAGpC,EAAMsB,qBACtBW,EAAOtC,UAAUC,IAAI,cAErBwB,EAAavB,YAAYyB,GACzBF,EAAavB,YAAYmC,GAEzBb,EAAQtB,YAAYuB,GACpBF,EAAGrB,YAAYsB,GACfD,EAAGrB,YAAYoC,GAEfxC,EAAgBI,YAAYqB,EAAG,G,CAmBnChC,eAAemD,IACb,IAAIhD,EAEFA,EADEiD,OAAOC,WA5FkB,IA6FnB,EAEA,EAGVpD,QA/FFD,iBACE,IACE,MAAMmB,QAAiBC,MACrB,mHAEF,IAAKD,EAASmC,GACZ,MAAM,IAAIC,MAAMpC,EAASqC,QAG3B,aADwBrC,EAASG,QAChBmC,O,CACjB,MAAOC,GACPC,QAAQC,IAAIF,E,EAmFOG,GACA1D,E,CAGvBgD,IAEAC,OAAOU,iBAAiB,SAAUX","sources":["src/js/home-trends.js"],"sourcesContent":["const container = document.getElementById('movies-container');\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\nconst TABLET_WIDTH_THRESHOLD = 768;\nconst colWidthClass = 'col-md-4';\n\nasync function fetchTrendsMovies() {\n  try {\n    const response = await fetch(\n      `${BASE_URL}?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    const movieData = await response.json();\n    return movieData.results;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderMovies(movies, count) {\n  const container = document.querySelector('#movies-container');\n  container.innerHTML = '';\n  const moviesContainer = document.createElement('ul');\n  moviesContainer.classList.add('weekly-list');\n  container.appendChild(moviesContainer);\n\n  movies.slice(0, count).forEach(async movie => {\n    const genres = await getGenresById(movie.genre_ids);\n    const li = document.createElement('li');\n    li.classList.add('weekly-item');\n\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('weekly-wrapper');\n\n    const movieDetails = document.createElement('div');\n    movieDetails.classList.add('weekly-info');\n\n    const shortenedTitle = movie.title.slice(0, movie.title.indexOf(':'));\n    const title = document.createElement('h3');\n    title.classList.add('weekly-info__title');\n    title.innerText = `${shortenedTitle}`;\n\n    const releaseDateAndGenre = document.createElement('span');\n    releaseDateAndGenre.classList.add('weekly-info__genres__data');\n    releaseDateAndGenre.innerText = `${genres\n      .split(',')\n      .slice(0, 1)\n      .join(', ')} | ${movie.release_date.slice(0, 4)}`;\n\n    const movieRating = document.createElement('div');\n    movieRating.classList.add('weekly-rating');\n    const ratingValue = document.createElement('span');\n    ratingValue.innerText = `${movie.vote_average.toFixed(1)}`;\n    movieRating.appendChild(ratingValue);\n\n    const additionalInfo = document.createElement('div');\n    additionalInfo.classList.add('catalog-list__additional-info');\n    additionalInfo.appendChild(releaseDateAndGenre);\n    additionalInfo.appendChild(movieRating);\n\n    const poster = document.createElement('img');\n    poster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n    poster.alt = `${movie.title} movie poster`;\n    poster.classList.add('weekly-img');\n\n    movieDetails.appendChild(title);\n    movieDetails.appendChild(additionalInfo);\n\n    wrapper.appendChild(movieDetails);\n    li.appendChild(wrapper);\n    li.appendChild(poster);\n\n    moviesContainer.appendChild(li);\n  });\n}\n\nasync function getGenresById(genreIds) {\n  const API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\n  const BASE_URL = `https://api.themoviedb.org/3/genre/movie/list`;\n\n  const response = await fetch(`${BASE_URL}?api_key=${API_KEY}&language=en-US`);\n  const data = await response.json();\n\n  const genreNames = genreIds.map(genreId => {\n    const genre = data.genres.find(genre => genre.id === genreId);\n    return genre.name;\n  });\n\n  return genreNames.join(', ');\n}\n\nasync function getFetchedMovies() {\n  let count;\n  if (window.innerWidth < TABLET_WIDTH_THRESHOLD) {\n    count = 1;\n  } else {\n    count = 3;\n  }\n  const movies = await fetchTrendsMovies();\n  renderMovies(movies, count);\n}\n\ngetFetchedMovies();\n\nwindow.addEventListener('resize', getFetchedMovies);\n"],"names":["document","getElementById","async","$d3fe7bef80e36203$var$renderMovies","movies","count","container1","querySelector","innerHTML","moviesContainer","createElement","classList","add","appendChild","slice","forEach","movie","genres","genreIds","API_KEY1","BASE_URL1","response","fetch","data","json","map","genreId","find","genre","id","name","join","$d3fe7bef80e36203$var$getGenresById","genre_ids","li","wrapper","movieDetails","shortenedTitle","title","indexOf","innerText","releaseDateAndGenre","split","release_date","movieRating","ratingValue","vote_average","toFixed","additionalInfo","poster","src","poster_path","alt","$d3fe7bef80e36203$var$getFetchedMovies","window","innerWidth","ok","Error","status","results","error","console","log","$d3fe7bef80e36203$var$fetchTrendsMovies","addEventListener"],"version":3,"file":"index.9ae4700d.js.map"}