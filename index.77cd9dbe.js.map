{"mappings":"AAOWA,MANM,mGAOVC,MAAMC,GAAaA,EAASC,SAC5BF,MAAMG,KASX,SAA2BA,GACzB,IACE,GAAIA,EAAM,CACNC,QAAQC,IAAIF,GACZ,MAAMG,EAAkBH,EAAKI,QAAQC,OAAS,EAC9CJ,QAAQC,IAAIC,GAEZ,MAAMG,EAAcC,KAAKC,OAgBRC,EAhB8B,EAgBzBC,EAhB4BP,EAiBjDI,KAAKI,UAAYD,EAAMD,GAAOA,IAhB/BR,QAAQC,IAAII,GAEZ,MAAMM,EAAOZ,EAAKI,QAAQE,GAC1BL,QAAQC,IAAIU,GAEZC,EAAcC,UAAY,GAclC,SAAoBF,GAClBC,EAAcC,UAAY,0DAA0DF,EAAKG,+CAC3DH,EAAKI,oDACNJ,EAAKK,iIAKmCC,OAA9DC,iBAAiB,OAAQC,EAAkBR,IAClDM,OAAOC,iBAAiB,SAAUC,EAAkBR,G,CAtB9CS,CAAWT,E,EAEf,MAAOU,GACLrB,QAAQC,IAAIoB,GACZC,EAAOC,UAAUC,OAAO,kBACxBF,EAAOC,UAAUE,IAAI,e,CAI3B,IAAyBjB,EAAKC,C,CA/B1BiB,CAAkB3B,EAAK,IACpB4B,OAAMN,GAASrB,QAAQC,IAAIoB,KAGlC,MAAMT,EAAgBgB,SAASC,KAAKC,cAAc,mBAC5CR,EAASM,SAASC,KAAKC,cAAc,SACrCC,EAAWH,SAASC,KAAKC,cAAc,mBA0C7C,SAASX,EAAkBR,GACzB,MAAMqB,EAAcf,OAAOgB,WAGvBD,GAAe,IACjBD,EAASG,MAAMC,gBAAkB,kHAAwFxB,EAAKyB,mBACtHJ,GAAe,MAEfA,GAAe,QADvBD,EAASG,MAAMC,gBAAkB,4CAAkBxB,EAAKyB,kB","sources":["src/js/hero.js"],"sourcesContent":["const API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=1`;\nconst IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\nfetchMovieOfTheDay();\n\nfunction fetchMovieOfTheDay() {\n    return fetch(BASE_URL)\n      .then((response) => response.json())\n      .then((data) => {\n      makeMovieOfTheDay(data);\n      }).catch(error => console.log(error))\n  }\n\n  const heroContainer = document.body.querySelector(\".hero-container\");\n  const heroEl = document.body.querySelector('.hero');\n  const heroFilm = document.body.querySelector('.hero_with-film');\n\n  function makeMovieOfTheDay(data) {\n    try {\n      if (data) {\n          console.log(data);\n          const valueOfElements = data.results.length - 1\n          console.log(valueOfElements);\n  \n          const movieNumber = Math.round(getRandomNumber(0, valueOfElements));\n          console.log(movieNumber);\n  \n          const film = data.results[movieNumber];\n          console.log(film);\n\n          heroContainer.innerHTML = '';\n          makeMarkup(film)\n        } \n    } catch (error) {\n        console.log(error);\n        heroEl.classList.remove(\"hero_with-film\");\n        heroEl.classList.add(\"hero-default\");\n    }\n  }\n  \n  function getRandomNumber(min, max) {\n    return Math.random() * (max - min) + min;\n  }\n  \n  function makeMarkup(film) {\n    heroContainer.innerHTML = `<div class=\"hero-film_box\"><h2 class=\"hero-film_title\">${film.title}</h2>\n    <p class=\"hero-film_rating\">${film.vote_average}</p>\n    <p class=\"hero-film_descr\">${film.overview}</p>\n    <button class=\"hero-film_btn btn\">Watch trailer</button></div>\n    <div class=\"hero-film_background\"></div>`;\n\n    // Викликаємо функцію при завантаженні сторінки та при зміні ширини вікна браузера\n    window.addEventListener('load', setHeroBackground(film));\n    window.addEventListener('resize', setHeroBackground(film));\n  }\n  \n\n  function setHeroBackground(film) {\n    const windowWidth = window.innerWidth;\n  \n    // змінюємо вигляд бекграунда в залежності від ширини екрана\n    if (windowWidth <= 767) {\n      heroFilm.style.backgroundImage = `linear-gradient(87.8deg, #0e0e0e 15.61%, rgba(14, 14, 14, 0) 60.39%), url('${IMG_URL}${film.backdrop_path}')`;\n    } else if(windowWidth <= 1279) {\n      heroFilm.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n    } else if(windowWidth >= 1280) {\n      heroFilm.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n      \n    }\n  }"],"names":["fetch","then","response","json","data","console","log","valueOfElements","results","length","movieNumber","Math","round","min","max","random","film","$aab6d1c60b3e9a0a$var$heroContainer","innerHTML","title","vote_average","overview","window","addEventListener","$aab6d1c60b3e9a0a$var$setHeroBackground","$aab6d1c60b3e9a0a$var$makeMarkup","error","$aab6d1c60b3e9a0a$var$heroEl","classList","remove","add","$aab6d1c60b3e9a0a$var$makeMovieOfTheDay","catch","document","body","querySelector","$aab6d1c60b3e9a0a$var$heroFilm","windowWidth","innerWidth","style","backgroundImage","backdrop_path"],"version":3,"file":"index.77cd9dbe.js.map"}