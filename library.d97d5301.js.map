{"mappings":"AAAA,MAAMA,EAAO,CACXC,aAAcC,SAASC,eAAe,gBACtCC,gBAAiBF,SAASC,eAAe,mBACzCE,eAAgBH,SAASC,eAAe,kBACxCG,WAAYJ,SAASC,eAAe,cACpCI,SAAUL,SAASC,eAAe,aAClCK,eAAgBN,SAASO,cAAc,uBACvCC,UAAWR,SAASO,cAAc,iBAClCE,cAAeT,SAASO,cAAc,sBAEtCG,MAAOV,SAASO,cAAc,gBAC9BI,OAAQX,SAASO,cAAc,kBAC/BK,KAAMZ,SAASO,cAAc,SAC7BM,MAAOb,SAASO,cAAc,UAC9BO,QAASd,SAASO,cAAc,eAChCQ,MAAOf,SAASO,cAAc,YAG1BS,EACO,aADPA,EAEI,SAeV,SAASC,IACPC,IACAC,IACAnB,SAASoB,KAAKC,UAAUC,OAAON,GAC/BjB,aAAasB,UAAUC,OAAON,GAC9BZ,WAAWiB,UAAUC,OAAON,GAC5BO,QAAQC,IAAIpB,W,CAlBdN,EAAKK,eAAesB,iBAAiB,QAASR,GAC9CnB,EAAKI,gBAAgBuB,iBAAiB,QAASR,GAC/CnB,EAAKC,aAAa0B,iBAAiB,QAASR,GAE5CjB,SAASyB,iBAAiB,WAE1B,UAA+BC,KAAEA,IAClB,WAATA,GAAqBtB,WAAWiB,UAAUM,SAASX,IACrDC,G,IAsBJ,SAASE,IACHnB,SAASoB,KAAKC,UAAUM,SAAS,gBACnC7B,EAAKM,WAAWiB,UAAUO,IAAI,eAAgB,eAC9C9B,EAAKO,SAASgB,UAAUO,IAAI,eAC5B9B,EAAKU,UAAUa,UAAUO,IAAI,eAC7B9B,EAAKQ,eAAee,UAAUO,IAAI,cAClC9B,EAAKW,cAAcY,UAAUO,IAAI,iBAEjCL,QAAQC,IAAI1B,EAAKM,WAAWiB,UAAUM,SAAS,iBAC/C7B,EAAKM,WAAWiB,UAAUQ,OAAO,eAAgB,eACjD/B,EAAKO,SAASgB,UAAUQ,OAAO,eAC/B/B,EAAKU,UAAUa,UAAUQ,OAAO,eAChC/B,EAAKQ,eAAee,UAAUQ,OAAO,cACrC/B,EAAKW,cAAcY,UAAUQ,OAAO,e,CArBzB7B,SAASC,eAAe,UAChCwB,iBAAiB,SAExB,WACEzB,SAASoB,KAAKC,UAAUC,OAAO,eAC/BH,G,IA0BF,SAASW,IACP,OAAOC,MAAM,sFAA8CC,MAAKC,GACvDA,EAAKC,Q,CAIhBC,eAAejB,IACb,IACE,MAAMkB,YACJA,EAAWC,MACXA,EAAKC,SACLA,EAAQC,WACRA,EAAUC,aACVA,EAAYC,WACZA,EAAUC,QACVA,EACAC,OAAAC,SACQd,IACVhC,EAAKY,MAAMmC,IAAM,mCAAmCT,IACpDtC,EAAKa,OAAOmC,YAAcT,EAC1BvC,EAAKc,KAAKkC,YAAcN,EACxB1C,EAAKe,MAAMiC,YAAcL,EACzB3C,EAAKgB,QAAQgC,YAAcP,EAC3BhB,QAAQC,IAAIoB,GACZ9C,EAAKiB,MAAM+B,YAAcF,EAAOG,KAAIJ,GAAUA,EAAOK,OAAMC,KAAK,KAChEnD,EAAKW,cAAcqC,YAAcR,C,CACjC,MAAOY,GACP3B,QAAQC,IAAI0B,E,EA8BhBhC","sources":["src/js/mogal-popup.js"],"sourcesContent":["const refs = {\n  overlayPopUp: document.getElementById('overlayPopUp'),\n  closeModalPopUp: document.getElementById('closeModalPopUp'),\n  openModalPopUp: document.getElementById('openModalPopUp'),\n  modalPopUp: document.getElementById('modalPopUp'),\n  btnPopUp: document.getElementById('mylibrary'),\n  closeIconPopUp: document.querySelector('.pop-up__close-icon'),\n  blokPopUp: document.querySelector('.pop-up__blok'),\n  aboutTxtPopUp: document.querySelector('.pop-up__about-txt'),\n\n  image: document.querySelector('.pop-up__img'),\n  titles: document.querySelector('.pop-up__title'),\n  vote: document.querySelector('.vote'),\n  votes: document.querySelector('.votes'),\n  popular: document.querySelector('.popularity'),\n  genre: document.querySelector('.genres'),\n};\n\nconst classes = {\n  openModal: 'open-modal',\n  visual: 'visual',\n};\n\nrefs.openModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.closeModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.overlayPopUp.addEventListener('click', handlePopUpModal);\n\ndocument.addEventListener('keydown', handlePopUpModalClose);\n\nfunction handlePopUpModalClose({ code }) {\n  if (code === 'Escape' && modalPopUp.classList.contains(classes.visual)) {\n    handlePopUpModal();\n  }\n}\n\nfunction handlePopUpModal() {\n  getPopUpMovies();\n  toogleLightPopUp();\n  document.body.classList.toggle(classes.openModal);\n  overlayPopUp.classList.toggle(classes.visual);\n  modalPopUp.classList.toggle(classes.visual);\n  console.log(modalPopUp);\n}\n\n// ===== Перемикач теми =====\nconst toogle = document.getElementById('toggle');\ntoogle.addEventListener('click', toogleLight);\n\nfunction toogleLight() {\n  document.body.classList.toggle('light_color');\n  toogleLightPopUp();\n}\n\nfunction toogleLightPopUp() {\n  if (document.body.classList.contains('light_color')) {\n    refs.modalPopUp.classList.add('light_shadow', 'light_color');\n    refs.btnPopUp.classList.add('light_color');\n    refs.blokPopUp.classList.add('light_color');\n    refs.closeIconPopUp.classList.add('light_fill');\n    refs.aboutTxtPopUp.classList.add('light_color');\n  } else {\n    console.log(refs.modalPopUp.classList.contains('light_shadow'));\n    refs.modalPopUp.classList.remove('light_shadow', 'light_color');\n    refs.btnPopUp.classList.remove('light_color');\n    refs.blokPopUp.classList.remove('light_color');\n    refs.closeIconPopUp.classList.remove('light_fill');\n    refs.aboutTxtPopUp.classList.remove('light_color');\n  }\n}\n\n// POPUP MOVIES\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\nconst POPUP_ID = 840326;\n// 502356 840326 1008005\n\nfunction fetchPopUpMovies() {\n  return fetch(`${POPUP_URL}${POPUP_ID}?api_key=${API_KEY}`).then(data => {\n    return data.json();\n  });\n}\n\nasync function getPopUpMovies() {\n  try {\n    const {\n      poster_path,\n      title,\n      overview,\n      popularity,\n      vote_average,\n      vote_count,\n      tagline,\n      genres,\n    } = await fetchPopUpMovies();\n    refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n    refs.titles.textContent = title;\n    refs.vote.textContent = vote_average;\n    refs.votes.textContent = vote_count;\n    refs.popular.textContent = popularity;\n    console.log(genres);\n    refs.genre.textContent = genres.map(genres => genres.name).join(' ');\n    refs.aboutTxtPopUp.textContent = overview;\n  } catch (error) {\n    console.log(error);\n  }\n\n  function getPopUpMovies() {\n    fetchPopUpMovies()\n      .then(\n        ({\n          poster_path,\n          title,\n          overview,\n          popularity,\n          vote_average,\n          vote_count,\n          tagline,\n          genres,\n        }) => {\n          console.log(genres);\n          refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n          refs.titles.textContent = title;\n          refs.vote.textContent = vote_average;\n          refs.votes.textContent = vote_count;\n          refs.popular.textContent = popularity;\n          refs.genre.textContent = tagline;\n          refs.aboutTxtPopUp.textContent = overview;\n        }\n      )\n      .catch(error => console.log(error));\n  }\n}\n\ngetPopUpMovies();\n"],"names":["$0c803dbac51014e0$var$refs","overlayPopUp","document","getElementById","closeModalPopUp","openModalPopUp","modalPopUp","btnPopUp","closeIconPopUp","querySelector","blokPopUp","aboutTxtPopUp","image","titles","vote","votes","popular","genre","$0c803dbac51014e0$var$classes","$0c803dbac51014e0$var$handlePopUpModal","$0c803dbac51014e0$var$getPopUpMovies","$0c803dbac51014e0$var$toogleLightPopUp","body","classList","toggle","console","log","addEventListener","code","contains","add","remove","$0c803dbac51014e0$var$fetchPopUpMovies","fetch","then","data","json","async","poster_path","title","overview","popularity","vote_average","vote_count","tagline","genres","genres1","src","textContent","map","name","join","error1"],"version":3,"file":"library.d97d5301.js.map"}