const e={overlayPopUp:document.getElementById("overlayPopUp"),closeModalPopUp:document.getElementById("closeModalPopUp"),openModalPopUp:document.querySelector(".catalog__gallery"),modalPopUp:document.getElementById("modalPopUp"),btnPopUp:document.getElementById("mylibrary"),closeIconPopUp:document.querySelector(".pop-up-modal__close-icon"),blokPopUp:document.querySelector(".pop-up-modal__blok"),aboutTxtPopUp:document.querySelector(".pop-up-modal__about-txt"),image:document.querySelector(".pop-up-modal__img"),titles:document.querySelector(".pop-up-modal__title"),vote:document.querySelector(".vote"),votes:document.querySelector(".votes"),popular:document.querySelector(".popularity"),genre:document.querySelector(".genres")},o="open-modal",t="visual";function l(){!async function(){try{const{id:o,poster_path:t,title:l,overview:c,popularity:p,vote_average:a,vote_count:d,genres:r}=await fetch(`https://api.themoviedb.org/3/movie/${localStorage.getItem("film-id")}?api_key=ec3ca0e4403710b7fc1497b1dbf32c54`).then((e=>e.json()));n=o,console.log(n),e.image.src=`https://image.tmdb.org/t/p/w500/${t}`,e.titles.textContent=l,e.vote.textContent=a,e.votes.textContent=d,e.popular.textContent=p,console.log(r),e.genre.textContent=r.map((e=>e.name)).join(" "),e.aboutTxtPopUp.textContent=c}catch(e){console.log(e)}}(),document.body.classList.toggle(o),overlayPopUp.classList.toggle(t),modalPopUp.classList.toggle(t),console.log(modalPopUp)}e.openModalPopUp.addEventListener("click",l),e.closeModalPopUp.addEventListener("click",l),e.overlayPopUp.addEventListener("click",l),document.addEventListener("keydown",(function({code:e}){"Escape"===e&&modalPopUp.classList.contains(t)&&l()}));let n;e.btnPopUp.addEventListener("click",(function(){e.btnPopUp.classList.contains("add_mylibrary")?(e.btnPopUp.classList.remove("add_mylibrary"),e.btnPopUp.classList.add("btn"),localStorage.removeItem("mylbery-id",n)):(e.btnPopUp.classList.add("add_mylibrary"),localStorage.setItem("mylbery-id",n))}));document.querySelector(".toggleButton").addEventListener("click",(function(){document.body.classList.toggle("light-theme")}));
//# sourceMappingURL=library.27166fed.js.map
