!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire6cf5;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire6cf5=a);var i=a("bpxeT"),c=a("2TvXO"),s=(document.getElementById("movies-container"),"ec3ca0e4403710b7fc1497b1dbf32c54"),o="https://api.themoviedb.org/3/trending/movie/week";function d(){return l.apply(this,arguments)}function l(){return(l=e(i)(e(c).mark((function t(){var n,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"?api_key=").concat(s,"&language=en-US&page=1"));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.status);case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.results);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}function u(e,t){return p.apply(this,arguments)}function p(){return p=e(i)(e(c).mark((function t(n,r){var a,s;return e(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=document.querySelector("#movies-container")).innerHTML="",(s=document.createElement("ul")).classList.add("weekly-list"),a.appendChild(s),n.slice(0,r).forEach(function(){var t=e(i)(e(c).mark((function t(n){var r,a,i,o,d,l,u,p,m,h,v;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n.genre_ids);case 2:r=e.sent,(a=document.createElement("li")).classList.add("weekly-item"),(i=document.createElement("div")).classList.add("weekly-wrapper"),(o=document.createElement("div")).classList.add("weekly-info"),d=n.title.slice(0,n.title.indexOf(":")),(l=document.createElement("h3")).classList.add("weekly-info__title"),l.innerText="".concat(d),(u=document.createElement("span")).classList.add("weekly-info__genres__data"),u.innerText="".concat(r.split(",").slice(0,2).join(", ")," | ").concat(n.release_date.slice(0,4)),(p=document.createElement("div")).classList.add("weekly-rating"),(m=document.createElement("span")).innerText="".concat(n.vote_average.toFixed(1)),p.appendChild(m),(h=document.createElement("div")).classList.add("catalog-list__additional-info"),h.appendChild(u),h.appendChild(p),(v=document.createElement("img")).src="https://image.tmdb.org/t/p/w500".concat(n.poster_path),v.alt="".concat(n.title," movie poster"),v.classList.add("weekly-img"),o.appendChild(l),o.appendChild(h),i.appendChild(o),a.appendChild(i),a.appendChild(v),s.appendChild(a);case 35:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=e(i)(e(c).mark((function t(n){var r,a,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"ec3ca0e4403710b7fc1497b1dbf32c54","https://api.themoviedb.org/3/genre/movie/list",e.next=4,fetch("".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat("ec3ca0e4403710b7fc1497b1dbf32c54","&language=en-US"));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,i=n.map((function(e){return a.genres.find((function(t){return t.id===e})).name})),e.abrupt("return",i.join(", "));case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function h(){return v.apply(this,arguments)}function v(){return(v=e(i)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.innerWidth<768?1:3,e.next=4,d();case 4:u(e.sent,n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}h(),window.addEventListener("resize",h)}();
//# sourceMappingURL=index.0a750a76.js.map
