{"mappings":"AAAA,MAAMA,EAAO,CACXC,aAAcC,SAASC,eAAe,gBACtCC,gBAAiBF,SAASC,eAAe,mBACzCE,eAAgBH,SAASC,eAAe,kBACxCG,WAAYJ,SAASC,eAAe,cACpCI,SAAUL,SAASC,eAAe,aAClCK,eAAgBN,SAASO,cAAc,6BACvCC,UAAWR,SAASO,cAAc,uBAClCE,cAAeT,SAASO,cAAc,4BAEtCG,MAAOV,SAASO,cAAc,sBAC9BI,OAAQX,SAASO,cAAc,wBAC/BK,KAAMZ,SAASO,cAAc,SAC7BM,MAAOb,SAASO,cAAc,UAC9BO,QAASd,SAASO,cAAc,eAChCQ,MAAOf,SAASO,cAAc,YAG1BS,EACO,aADPA,EAEI,SAeV,SAASC,KA4BTC,iBACE,IACE,MAAMC,GAAEA,EAAEC,YAAEA,EAAWC,MAAEA,EAAKC,SAAEA,EAAQC,WAAEA,EAAUC,aAAEA,EAAYC,WAAEA,EAAYC,OAAAC,SAR3EC,MAAM,sCAAeC,8CAC3BC,MAAKC,GACGA,EAAKC,SAOZC,EAAed,EACfe,QAAQC,IAAIF,GACZnC,EAAKY,MAAM0B,IAAM,mCAAmChB,IACpDtB,EAAKa,OAAO0B,YAAchB,EAC1BvB,EAAKc,KAAKyB,YAAcb,EACxB1B,EAAKe,MAAMwB,YAAcZ,EACzB3B,EAAKgB,QAAQuB,YAAcd,EAC3BW,QAAQC,IAAIR,GACZ7B,EAAKiB,MAAMsB,YAAcV,EAAOW,KAAKZ,GAAWA,EAAOa,OAAMC,KAAK,KAClE1C,EAAKW,cAAc4B,YAAcf,C,CACjC,MAAOmB,GACPP,QAAQC,IAAIM,E,EAzCdC,GACAC,IACA3C,SAAS4C,KAAKC,UAAUC,OAAO9B,GAC/BjB,aAAa8C,UAAUC,OAAO9B,GAC9BZ,WAAWyC,UAAUC,OAAO9B,GAC5BkB,QAAQC,IAAI/B,W,CAlB6BN,EAAtCK,eAAe4C,iBAAiB,QAAS9B,GAE9CnB,EAAKI,gBAAgB6C,iBAAiB,QAAS9B,GAC/CnB,EAAKC,aAAagD,iBAAiB,QAAS9B,GAC5CjB,SAAS+C,iBAAiB,WAE1B,UAA+BC,KAACA,IACjB,WAATA,GAAqB5C,WAAWyC,UAAUI,SAASjC,IACrDC,G,IAkBJ,MAEMY,EAAWqB,aAAaC,QAAQ,WACtC,IAAIlB,EACJC,QAAQC,IAAIN,GA6BX/B,EAAIO,SAAS0C,iBAAiB,SAE/B,WACOjD,EAAKO,SAASwC,UAAUI,SAAS,kBAKpCnD,EAAKO,SAASwC,UAAUO,OAAO,iBAC/BF,aAAaG,WAAW,aAAcpB,KALtCnC,EAAKO,SAASwC,UAAUS,IAAI,iBAC5BJ,aAAaK,QAAQ,aAActB,GACnCC,QAAQC,IAAIe,aAAaM,W,IAgB7B,SAASb,IACH3C,SAAS4C,KAAKC,UAAUI,SAAS,gBACrCnD,EAAKM,WAAWyC,UAAUS,IAAI,eAAgB,eAC9CxD,EAAKO,SAASwC,UAAUS,IAAI,eAC5BxD,EAAKU,UAAUqC,UAAUS,IAAI,eAC7BxD,EAAKQ,eAAeuC,UAAUS,IAAI,cAClCxD,EAAKW,cAAcoC,UAAUS,IAAI,iBAEjCpB,QAAQC,IAAIrC,EAAKM,WAAWyC,UAAUI,SAAS,iBAC/CnD,EAAKM,WAAWyC,UAAUO,OAAO,eAAgB,eACjDtD,EAAKO,SAASwC,UAAUO,OAAO,eAC/BtD,EAAKU,UAAUqC,UAAUO,OAAO,eAChCtD,EAAKQ,eAAeuC,UAAUO,OAAO,cACrCtD,EAAKW,cAAcoC,UAAUO,OAAO,e,CArBvBpD,SAASC,eAAe,UAChC8C,iBAAiB,SAExB,WACA/C,SAAS4C,KAAKC,UAAUC,OAAO,eAC/BH,G","sources":["src/js/mogal-popup.js"],"sourcesContent":["const refs = {  \n  overlayPopUp: document.getElementById('overlayPopUp'),  \n  closeModalPopUp: document.getElementById('closeModalPopUp'),\n  openModalPopUp: document.getElementById('openModalPopUp'),\n  modalPopUp: document.getElementById('modalPopUp'),\n  btnPopUp: document.getElementById('mylibrary'),\n  closeIconPopUp: document.querySelector('.pop-up-modal__close-icon'),\n  blokPopUp: document.querySelector('.pop-up-modal__blok'), \n  aboutTxtPopUp: document.querySelector('.pop-up-modal__about-txt'),\n\n  image: document.querySelector('.pop-up-modal__img'),\n  titles: document.querySelector('.pop-up-modal__title'),\n  vote: document.querySelector('.vote'),\n  votes: document.querySelector('.votes'),\n  popular: document.querySelector('.popularity'),\n  genre: document.querySelector('.genres'),\n};\n\nconst classes = {\n  openModal: 'open-modal',\n  visual: 'visual',\n};\n// ВИКЛИК МОДАЛКИ ТИМЧАСОВОЮ КНОПКОЮ (ПОТІМ ПРИБРАТИ)\nrefs.openModalPopUp.addEventListener('click', handlePopUpModal);\n\nrefs.closeModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.overlayPopUp.addEventListener('click', handlePopUpModal);\ndocument.addEventListener('keydown', handlePopUpModalClose)\n\nfunction handlePopUpModalClose({code}) {  \n  if (code === 'Escape' && modalPopUp.classList.contains(classes.visual)) {    \n    handlePopUpModal();\n  }\n}\n\nfunction handlePopUpModal() {\n  getPopUpMovies();\n  toogleLightPopUp();\n  document.body.classList.toggle(classes.openModal);\n  overlayPopUp.classList.toggle(classes.visual);\n  modalPopUp.classList.toggle(classes.visual);  \n  console.log(modalPopUp);  \n};\n\n// === Тимчасовий пробний запис в localStorage ===\n// localStorage.setItem('film-id', 502356);\n// localStorage.removeItem('film-id', 502356);\n// POPUP MOVIES\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\nconst POPUP_ID = localStorage.getItem('film-id');\nlet MYLIBRARY_ID;\nconsole.log(POPUP_ID);\n// 502356 840326 1008005\n\nfunction fetchPopUpMovies() {\n  return fetch(`${POPUP_URL}${POPUP_ID}?api_key=${API_KEY}`)\n  .then(data => {    \n    return data.json();      \n  })\n}\n\nasync function getPopUpMovies() {\n  try {\n    const { id, poster_path, title, overview, popularity, vote_average, vote_count, genres } = await fetchPopUpMovies();\n    MYLIBRARY_ID = id;\n    console.log(MYLIBRARY_ID);\n    refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;      \n    refs.titles.textContent = title;            \n    refs.vote.textContent = vote_average;         \n    refs.votes.textContent = vote_count;      \n    refs.popular.textContent = popularity;    \n    console.log(genres);       \n    refs.genre.textContent = genres.map((genres) => genres.name).join(\" \");   \n    refs.aboutTxtPopUp.textContent = overview;      \n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// === set/remome в localStorage 'mylberyId' ====\nrefs.btnPopUp.addEventListener('click', pushMyLibrary);\n\nfunction pushMyLibrary() {\n  if (!refs.btnPopUp.classList.contains('add_mylibrary')) {\n    refs.btnPopUp.classList.add('add_mylibrary');     \n    localStorage.setItem('mylbery-id', MYLIBRARY_ID);  \n    console.log(localStorage.mylberyId);\n  } else {\n    refs.btnPopUp.classList.remove('add_mylibrary');\n    localStorage.removeItem('mylbery-id', MYLIBRARY_ID);\n  }\n}\n\n// ===== Перемикач теми DARK/LIGHT =====\nconst toogle = document.getElementById('toggle');\ntoogle.addEventListener('click', toogleLight);\n\nfunction toogleLight() {\ndocument.body.classList.toggle('light_color');\ntoogleLightPopUp();\n}\n\nfunction toogleLightPopUp() {   \n  if (document.body.classList.contains('light_color')) {\n  refs.modalPopUp.classList.add('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.add('light_color');  \n  refs.blokPopUp.classList.add('light_color');  \n  refs.closeIconPopUp.classList.add('light_fill');   \n  refs.aboutTxtPopUp.classList.add('light_color');  \n } else {\n  console.log(refs.modalPopUp.classList.contains('light_shadow'));  \n  refs.modalPopUp.classList.remove('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.remove('light_color');  \n  refs.blokPopUp.classList.remove('light_color');  \n  refs.closeIconPopUp.classList.remove('light_fill');   \n  refs.aboutTxtPopUp.classList.remove('light_color');  \n }\n};\n"],"names":["$0c803dbac51014e0$var$refs","overlayPopUp","document","getElementById","closeModalPopUp","openModalPopUp","modalPopUp","btnPopUp","closeIconPopUp","querySelector","blokPopUp","aboutTxtPopUp","image","titles","vote","votes","popular","genre","$0c803dbac51014e0$var$classes","$0c803dbac51014e0$var$handlePopUpModal","async","id","poster_path","title","overview","popularity","vote_average","vote_count","genres","genres1","fetch","$0c803dbac51014e0$var$POPUP_ID","then","data","json","$0c803dbac51014e0$var$MYLIBRARY_ID","console","log","src","textContent","map","name","join","error","$0c803dbac51014e0$var$getPopUpMovies","$0c803dbac51014e0$var$toogleLightPopUp","body","classList","toggle","addEventListener","code","contains","localStorage","getItem","remove","removeItem","add","setItem","mylberyId"],"version":3,"file":"library.264d7520.js.map"}