{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/upcoming.js","node_modules/@swc/helpers/lib/_object_spread.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","const insertionBlock = document.querySelector('.upcoming__insert');\n\n// TODO ФЕТЧ АБИ ОТРИМАТИ UPCOMING MOVIES\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = `https://api.themoviedb.org/3/movie/upcoming`;\n\nfunction fetchUpcomingMovies() {\n// https://developers.themoviedb.org/3/movies/get-upcoming\n\n    return fetch(`${BASE_URL}?api_key=${API_KEY}&language=en-US&page=1`)\n    .then(movieData => {\n\n        if (!movieData.ok) {\n            throw new Error(movieData.status)\n          }\n        return movieData.json()\n       \n      })\n}\n\nasync function getFetchedMovies() {\n  try {\n    const data = await fetchUpcomingMovies();\n    const returnedResult = data.results;\n    // console.log(returnedResult);\n\n    if (returnedResult.length >= 1) {\n      const randomMovie = returnedResult[Math.floor(Math.random() * returnedResult.length)];\n      const genreNames = await getGenresById(randomMovie.genre_ids);\n      const createdMarkup = await renderMarkup({ ...randomMovie, genreNames });\n      insertionBlock.insertAdjacentHTML('beforeend', createdMarkup);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ngetFetchedMovies()\n\nasync function renderMarkup({ poster_path, backdrop_path, title, overview, popularity, vote_average, vote_count, release_date, genre_ids}) {\n  const genreNames = await getGenresById(genre_ids);\n\n  return `\n    <div class=\"desktop-positioning\">\n      <div class=\"desktop-left\">\n      \n      <picture class='.upcoming__poster'>\n      <source srcset=\"https://image.tmdb.org/t/p/original/${backdrop_path}\" media=\"(min-width: 1220px)\" class='upcoming__poster-desktop' />\n      <source srcset=\"https://image.tmdb.org/t/p/original/${backdrop_path}\" media=\"(min-width: 768px)\" class='upcoming__poster-tablet' />\n      <source srcset=\"https://image.tmdb.org/t/p/original/${poster_path}\" media=\"(min-width: 320px)\" />\n      <img src=\"https://image.tmdb.org/t/p/original/${poster_path}\" alt=\"Movie Poster\" style='width: 805px'/>\n    </picture>\n\n      </div>\n      <div class=\"desktop-right\"> \n        <p class=\"upcoming__movie-name\">${title}</p>\n\n        <div class=\"upcoming__infolist\">\n          <div class=\"first-upcoming-div\">\n\n            <ul class=\"rel-vote-list\">\n              <li><p class=\"upcoming__about-item\">Release date</p></li>\n              <li><p class=\"upcoming__about-item\">Vote / Votes</p></li>\n            </ul>\n            <ul class=\"rel-vote-list-value\" >\n              <li><p class=\"upcoming__release\">${release_date}</p></li>\n              <li><p class=\"upcoming__vote\"></p>\n              <span class=\"vote__styling\">${vote_average}</span>\n              / \n              <span class=\"vote__styling\">${vote_count}</span>\n              </li>\n            </ul>\n\n          </div>\n\n          <div class=\"second-upcoming-div\">\n\n            <ul class=\"pop-gen-list\">\n              <li><p class=\"upcoming__about-item\">Popularity</p></li>\n              <li><p class=\"upcoming__about-item\">Genre</p></li>\n            </ul>\n\n            <ul class=\"pop-gen-list-value\">\n              <li><p class=\"upcoming__popularity\">${popularity}</p></li>\n              <li><p class=\"upcoming__genre\"></p>${genreNames}</li>\n            </ul>\n\n          </div>\n        </div>\n\n        <p class=\"upcoming__about-title\">ABOUT</p>\n        <p class=\"upcoming__about\">${overview}</p>\n\n        <button type=\"button\" class=\"linear_btn\">Remind me</button>\n      </div>\n    </div>\n  `;\n}\n\n\nasync function getGenresById(genreIds) {\n  const API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\n  const BASE_URL = `https://api.themoviedb.org/3/genre/movie/list`;\n\n  const response = await fetch(`${BASE_URL}?api_key=${API_KEY}&language=en-US`);\n  const data = await response.json();\n\n  const genreNames = genreIds.map((genreId) => {\n    const genre = data.genres.find((genre) => genre.id === genreId);\n    return genre.name;\n  });\n\n  return genreNames.join(', ');\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$bpxeT","parcelRequire","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","__esModule","$4c6aab06649ec8ef$var$insertionBlock","document","querySelector","$4c6aab06649ec8ef$var$fetchUpcomingMovies","fetch","then","movieData","ok","Error","status","json","$4c6aab06649ec8ef$var$_getFetchedMovies","$parcel$interopDefault","$2TvXO","mark","_callee","data","returnedResult","randomMovie","genreNames","createdMarkup","_ctx","sent","results","Math","floor","random","$4c6aab06649ec8ef$var$getGenresById","genre_ids","$4c6aab06649ec8ef$var$renderMarkup","insertAdjacentHTML","console","log","t0","apply","this","_","$4c6aab06649ec8ef$var$_renderMarkup","param","poster_path","backdrop_path","title","overview","popularity","vote_average","vote_count","release_date","genreIds","$4c6aab06649ec8ef$var$_getGenresById","response","map","genreId","genres","find","genre","id","name","join","$4c6aab06649ec8ef$var$getFetchedMovies"],"version":3,"file":"index.699a2ffc.js.map"}