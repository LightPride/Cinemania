{"mappings":"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","sources":["src/js/mogal-popup.js"],"sourcesContent":["const refs = {\n  overlayPopUp: document.getElementById('overlayPopUp'),\n  closeModalPopUp: document.getElementById('closeModalPopUp'),\n  openModalPopUp: document.getElementById('openModalPopUp'),\n  modalPopUp: document.getElementById('modalPopUp'),\n  btnPopUp: document.getElementById('mylibrary'),\n  closeIconPopUp: document.querySelector('.pop-up__close-icon'),\n  blokPopUp: document.querySelector('.pop-up__blok'),\n  aboutTxtPopUp: document.querySelector('.pop-up__about-txt'),\n\n  image: document.querySelector('.pop-up__img'),\n  titles: document.querySelector('.pop-up__title'),\n  vote: document.querySelector('.vote'),\n  votes: document.querySelector('.votes'),\n  popular: document.querySelector('.popularity'),\n  genre: document.querySelector('.genres'),\n};\n\nconst classes = {\n  openModal: 'open-modal',\n  visual: 'visual',\n};\n\nrefs.openModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.closeModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.overlayPopUp.addEventListener('click', handlePopUpModal);\n\ndocument.addEventListener('keydown', handlePopUpModalClose);\n\nfunction handlePopUpModalClose({ code }) {\n  if (code === 'Escape' && modalPopUp.classList.contains(classes.visual)) {\n    handlePopUpModal();\n  }\n}\n\nfunction handlePopUpModal() {\n  getPopUpMovies();\n  toogleLightPopUp();\n  document.body.classList.toggle(classes.openModal);\n  overlayPopUp.classList.toggle(classes.visual);\n  modalPopUp.classList.toggle(classes.visual);\n  console.log(modalPopUp);\n}\n\n// ===== Перемикач теми =====\nconst toogle = document.getElementById('toggle');\ntoogle.addEventListener('click', toogleLight);\n\nfunction toogleLight() {\n  document.body.classList.toggle('light_color');\n  toogleLightPopUp();\n}\n\nfunction toogleLightPopUp() {\n  if (document.body.classList.contains('light_color')) {\n    refs.modalPopUp.classList.add('light_shadow', 'light_color');\n    refs.btnPopUp.classList.add('light_color');\n    refs.blokPopUp.classList.add('light_color');\n    refs.closeIconPopUp.classList.add('light_fill');\n    refs.aboutTxtPopUp.classList.add('light_color');\n  } else {\n    console.log(refs.modalPopUp.classList.contains('light_shadow'));\n    refs.modalPopUp.classList.remove('light_shadow', 'light_color');\n    refs.btnPopUp.classList.remove('light_color');\n    refs.blokPopUp.classList.remove('light_color');\n    refs.closeIconPopUp.classList.remove('light_fill');\n    refs.aboutTxtPopUp.classList.remove('light_color');\n  }\n}\n\n// POPUP MOVIES\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\nconst POPUP_ID = 840326;\n// 502356 840326 1008005\n\nfunction fetchPopUpMovies() {\n  return fetch(`${POPUP_URL}${POPUP_ID}?api_key=${API_KEY}`).then(data => {\n    return data.json();\n  });\n}\n\nasync function getPopUpMovies() {\n  try {\n    const {\n      poster_path,\n      title,\n      overview,\n      popularity,\n      vote_average,\n      vote_count,\n      tagline,\n      genres,\n    } = await fetchPopUpMovies();\n    refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n    refs.titles.textContent = title;\n    refs.vote.textContent = vote_average;\n    refs.votes.textContent = vote_count;\n    refs.popular.textContent = popularity;\n    console.log(genres);\n    refs.genre.textContent = genres.map(genres => genres.name).join(' ');\n    refs.aboutTxtPopUp.textContent = overview;\n  } catch (error) {\n    console.log(error);\n  }\n\n  function getPopUpMovies() {\n    fetchPopUpMovies()\n      .then(\n        ({\n          poster_path,\n          title,\n          overview,\n          popularity,\n          vote_average,\n          vote_count,\n          tagline,\n          genres,\n        }) => {\n          console.log(genres);\n          refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n          refs.titles.textContent = title;\n          refs.vote.textContent = vote_average;\n          refs.votes.textContent = vote_count;\n          refs.popular.textContent = popularity;\n          refs.genre.textContent = tagline;\n          refs.aboutTxtPopUp.textContent = overview;\n        }\n      )\n      .catch(error => console.log(error));\n  }\n}\n\ngetPopUpMovies();\n"],"names":["$bpxeT","parcelRequire","$b6534554614b26e5$var$refs","overlayPopUp","document","getElementById","closeModalPopUp","openModalPopUp","modalPopUp","btnPopUp","closeIconPopUp","querySelector","blokPopUp","aboutTxtPopUp","image","titles","vote","votes","popular","genre","$b6534554614b26e5$var$classes","$b6534554614b26e5$var$handlePopUpModal","$b6534554614b26e5$var$getPopUpMovies","$b6534554614b26e5$var$toogleLightPopUp","body","classList","toggle","console","log","contains","add","remove","addEventListener","param","code","$b6534554614b26e5$var$fetchPopUpMovies","fetch","concat","then","data","json","$b6534554614b26e5$var$_getPopUpMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","ref","poster_path1","title1","overview1","popularity1","vote_average1","vote_count1","genres1","poster_path","title","overview","popularity","vote_average","vote_count","tagline","genres","src","textContent","catch","error","_ctx","sent","map","name","join","t0"],"version":3,"file":"library.3269e0ce.js.map"}