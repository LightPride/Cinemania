!function(){function e(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=a.parcelRequire6cf5;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,a){n[e]=a},a.parcelRequire6cf5=r);var c=r("bpxeT"),i=r("2TvXO"),o={upcomingBtn:document.querySelector("#upcoming_btn"),addToLibraryBtn:document.getElementById("mylibrary"),libraryList:document.getElementById("library_list"),catalogGallery:document.querySelector(".catalog__gallery"),anyMovis:document.querySelector(".anyMovis"),pashalka:document.querySelector(".pas-halka")};o.catalogGallery.addEventListener("click",(function(e){if("UL"===e.target.nodeName)return;var a=e.target;localStorage.setItem("film-id","".concat(a.dataset.id))}));var d,l=localStorage.getItem("myLibraryIds"),s=JSON.parse(l).idsArray,u="ec3ca0e4403710b7fc1497b1dbf32c54",p="https://api.themoviedb.org/3/movie/";function f(e){var a=e.title,t=e.poster_path,n=e.release_date,r=e.vote_average,c=e.genres,i=e.id;if(c[0]){var d=c[0].name;return'\n        <li class="movie__card" data-id="'.concat(i,'">\n        <div class="movie__card-poster" style="background-image: linear-gradient(rgba(0,0,0,0),rgba(0, 0, 0, 0), rgba(0,0,0,1)),\n  url(https://image.tmdb.org/t/p/w500/').concat(t,');" data-id="').concat(i,'"></div>\n\n        <div class="movie__card-info" data-id="').concat(i,'">\n          <h3 data-id="').concat(i,'">').concat(a,'</h3>\n          <p data-id="').concat(i,'"><span data-id="').concat(i,'">').concat(d,'</span> | <span data-id="').concat(i,'">').concat(n.substring(0,4),'</span></p>\n        </div>\n\n        <div class="movie__card-rating" data-id="').concat(i,'">').concat(function(e){var a=document.createElement("div");a.classList.add("stars-container");var t=document.createElement("div");t.classList.add("st-gray"),t.classList.add("flex"),t.innerHTML="⭐⭐⭐⭐⭐";var n=document.createElement("div");n.innerHTML="⭐⭐⭐⭐⭐",n.classList.add("st"),n.classList.add("flex"),a.append(t,n),o.pashalka.appendChild(a);var r=n.offsetHeight;return n.style.width="".concat(e/2*r,"px"),a.outerHTML}(r),"</div>\n      </li> \n        ")}}d=s,o.catalogGallery.innerHTML="",d.map((function(a){var t;(function(e){return fetch("".concat(p).concat(e,"?api_key=").concat(u)).then((function(e){return e.json()}))})(a).then((t=e(c)(e(i).mark((function a(t){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(t)){e.next=2;break}return e.abrupt("return");case 2:o.anyMovis.innerHTML="",o.catalogGallery.insertAdjacentHTML("beforeend",f(t));case 4:case"end":return e.stop()}}),a)}))),function(e){return t.apply(this,arguments)}))}))}();
//# sourceMappingURL=library.3c42fbca.js.map
