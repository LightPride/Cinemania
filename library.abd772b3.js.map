{"mappings":"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","sources":["src/js/mogal-popup.js"],"sourcesContent":["const refs = {\n  overlayPopUp: document.getElementById('overlayPopUp'),\n  closeModalPopUp: document.getElementById('closeModalPopUp'),\n  openModalPopUp: document.getElementById('openModalPopUp'),\n  modalPopUp: document.getElementById('modalPopUp'),\n  btnPopUp: document.getElementById('mylibrary'),\n  closeIconPopUp: document.querySelector('.pop-up__close-icon'),\n  blokPopUp: document.querySelector('.pop-up__blok'),\n  aboutTxtPopUp: document.querySelector('.pop-up__about-txt'),\n\n  image: document.querySelector('.pop-up__img'),\n  titles: document.querySelector('.pop-up__title'),\n  vote: document.querySelector('.vote'),\n  votes: document.querySelector('.votes'),\n  popular: document.querySelector('.popularity'),\n  genre: document.querySelector('.genres'),\n  currentNavigation: document.querySelectorAll('.navigation__link'),\n};\n\nconsole.log(refs.currentNavigation)\n\nchangeCurrentNavigation();\n\nconst classes = {\n  openModal: 'open-modal',\n  visual: 'visual',\n};\n\nrefs.openModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.closeModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.overlayPopUp.addEventListener('click', handlePopUpModal);\n\ndocument.addEventListener('keydown', handlePopUpModalClose)\n\nfunction handlePopUpModalClose({code}) {  \n  if (code === 'Escape' && modalPopUp.classList.contains(classes.visual)) {    \n    handlePopUpModal();\n  }\n}\n\nfunction handlePopUpModal() {\n  getPopUpMovies();\n  toogleLightPopUp();\n  document.body.classList.toggle(classes.openModal);\n  overlayPopUp.classList.toggle(classes.visual);\n  modalPopUp.classList.toggle(classes.visual);  \n  console.log(modalPopUp);  \n};\n\n// ===== Перемикач теми =====\nconst toogle = document.getElementById('toggle');\ntoogle.addEventListener('click', toogleLight);\n\nfunction toogleLight() {\ndocument.body.classList.toggle('light_color');\ntoogleLightPopUp();\n}\n\nfunction toogleLightPopUp() {   \n  if (document.body.classList.contains('light_color')) {\n  refs.modalPopUp.classList.add('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.add('light_color');  \n  refs.blokPopUp.classList.add('light_color');  \n  refs.closeIconPopUp.classList.add('light_fill');   \n  refs.aboutTxtPopUp.classList.add('light_color');  \n } else {\n  console.log(refs.modalPopUp.classList.contains('light_shadow'));  \n  refs.modalPopUp.classList.remove('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.remove('light_color');  \n  refs.blokPopUp.classList.remove('light_color');  \n  refs.closeIconPopUp.classList.remove('light_fill');   \n  refs.aboutTxtPopUp.classList.remove('light_color');  \n }\n};\n\n// POPUP MOVIES\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\nconst POPUP_ID = 840326;\n// 502356 840326 1008005\n\nfunction fetchPopUpMovies() {\n  return fetch(`${POPUP_URL}${POPUP_ID}?api_key=${API_KEY}`)\n  .then(data => {    \n    return data.json();      \n  })\n}\n\n\nasync function getPopUpMovies() {\n  try {\n    const { poster_path, title, overview, popularity, vote_average, vote_count, tagline, genres } = await fetchPopUpMovies();    \n    refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;      \n    refs.titles.textContent = title;            \n    refs.vote.textContent = vote_average;         \n    refs.votes.textContent = vote_count;      \n    refs.popular.textContent = popularity;    \n    console.log(genres);       \n    refs.genre.textContent = genres.map((genres) => genres.name).join(\" \");   \n    refs.aboutTxtPopUp.textContent = overview;      \n  } catch (error) {\n    console.log(error);\n  }\n\nfunction getPopUpMovies() {\n  fetchPopUpMovies()\n    .then(({ poster_path, title, overview, popularity, vote_average, vote_count, tagline, genres }) => {\n      console.log(genres)           \n      refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;      \n      refs.titles.textContent = title;            \n      refs.vote.textContent = vote_average;         \n      refs.votes.textContent = vote_count;      \n      refs.popular.textContent = popularity;      \n      refs.genre.textContent = tagline;\n      refs.aboutTxtPopUp.textContent = overview;      \n    })\n    .catch(error => console.log(error));\n}\n\ngetPopUpMovies();\n\n\nfunction changeCurrentNavigation() {\n  refs.currentNavigation[0].classList.remove('current');\n  refs.currentNavigation[1].classList.remove('current');\n  refs.currentNavigation[2].classList.add('current');\n\n}"],"names":["$0c803dbac51014e0$var$refs","overlayPopUp","document","getElementById","closeModalPopUp","openModalPopUp","modalPopUp","btnPopUp","closeIconPopUp","querySelector","blokPopUp","aboutTxtPopUp","image","titles","vote","votes","popular","genre","currentNavigation","querySelectorAll","console","log","changeCurrentNavigation","$0c803dbac51014e0$var$classes","$0c803dbac51014e0$var$handlePopUpModal","async","poster_path","title","overview","popularity","vote_average","vote_count","tagline","genres","genres1","$0c803dbac51014e0$var$fetchPopUpMovies","src","textContent","map","name","join","error1","getPopUpMovies1","then","catch","error","$0c803dbac51014e0$var$getPopUpMovies","$0c803dbac51014e0$var$toogleLightPopUp","body","classList","toggle","addEventListener","code","contains","add","remove","fetch","data","json"],"version":3,"file":"library.abd772b3.js.map"}