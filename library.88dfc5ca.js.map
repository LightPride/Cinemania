{"mappings":"YAAA,IAAMA,EAAO,CACbC,YAAaC,SAASC,cAAc,iBACpCC,gBAAiBF,SAASG,eAAe,aACzCC,YAAaJ,SAASG,eAAe,iBAG/BE,EAAU,mCACVC,EAAa,sCAoCnB,SAASC,EAAOC,GAEZ,MAAO,0CAGHC,OAF+BD,EAAKE,GAAG,gJAEPD,OAAhCD,EAAKG,YAAY,iBAEwBF,OAFTD,EAAKE,GAAG,+DAGvBD,OADwBD,EAAKE,GAAG,+BACpBD,OAAZD,EAAKE,GAAG,MACTD,OADaD,EAAKI,MAAM,iCACGH,OAA3BD,EAAKE,GAAG,qBAA+BD,OAAZD,EAAKE,GAAG,MAA2CD,OAAvCD,EAAKK,OAAO,6BAAuCJ,OAAZD,EAAKE,GAAG,MAG3DD,OAH+DD,EAAKM,aAAa,oFAGrEL,OAAZD,EAAKE,GAAG,MAAsBD,OAAlBD,EAAKO,aAAa,4B,CA9CjFjB,EAAKI,gBAAgBc,iBAAiB,SAEtC,SAAiCC,GAC7BC,QAAQC,IAAI,+BAuBLC,MAAM,GAAeX,OAAZH,GAA0DG,OAA9CY,aAAaC,QAAQ,cAAc,aAAmBb,OAARJ,IACzEkB,MAAK,SAAAC,GACJ,OAAOA,EAAKC,M,IAvBEF,MAAK,SAAAC,GACjB,IAAMhB,EAAO,CACXI,MAAOY,EAAKZ,MACZc,WAAYF,EAAKb,YACjBE,OAAQW,EAAKX,OACbc,YAAaH,EAAKV,aAAac,UAAU,EAAG,GAC5ClB,GAAIc,EAAKd,GACTmB,YAAaL,EAAKT,cAGpBG,QAAQC,IAAIX,GAEZU,QAAQC,IAAIZ,EAAOC,IACnBU,QAAQC,IAAIrB,EAAKM,aACjBN,EAAKM,YAAY0B,mBAAmB,YAAavB,EAAOC,G,OAgChEU,QAAQC,IAAIrB,EAAKM,Y","sources":["src/js/localstorage.js"],"sourcesContent":["const refs = {\nupcomingBtn: document.querySelector('#upcoming_btn'),\naddToLibraryBtn: document.getElementById('mylibrary'),\nlibraryList: document.getElementById('library_list'),\n}\n\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\n\nrefs.addToLibraryBtn.addEventListener('click', onAddToLibraryBtnClick);\n\nfunction onAddToLibraryBtnClick (e) {\n    console.log('click on add to library btn');\n\n    fetchFilmById().then(data => {\n        const film = {\n          title: data.title,\n          posterPath: data.poster_path,\n          genres: data.genres,\n          releaseYear: data.release_date.substring(0, 4),\n          id: data.id,\n          voteAverage: data.vote_average,\n        };\n      \n        console.log(film); // Вывести объект фильма в консоль\n\n        console.log(markup(film));\n        console.log(refs.libraryList);\n        refs.libraryList.insertAdjacentHTML('beforeend', markup(film));\n      });\n\n\n}\n\nfunction fetchFilmById() {\n    return fetch(`${POPUP_URL}${localStorage.getItem('mylbery-id')}?api_key=${API_KEY}`)\n    .then(data => {    \n      return data.json()  \n    })\n  }\n\n\n\nfunction markup(film) {\n\n    return `\n    <li class=\"movie__card\" data-id=\"${film.id}\">\n        <div class=\"movie__card-poster\" style=\"background-image: linear-gradient(rgba(0,0,0,0),rgba(0, 0, 0, 0), rgba(0,0,0,1)),\n  url(${film.poster_path});\" data-id=\"${film.id}\"></div>\n\n        <div class=\"movie__card-info\" data-id=\"${film.id}\">\n          <h3 data-id=\"${film.id}\">${film.title}</h3>\n          <p data-id=\"${film.id}\"><span data-id=\"${film.id}\">${film.genres}</span> | <span data-id=\"${film.id}\">${film.release_date}</span></p>\n        </div>\n\n        <div class=\"movie__card-rating\" data-id=\"${film.id}\">${film.vote_average}</div>\n      </li>\n    `\n}\n\nconsole.log(refs.libraryList);"],"names":["$50116558f77987dc$var$refs","upcomingBtn","document","querySelector","addToLibraryBtn","getElementById","libraryList","$50116558f77987dc$var$API_KEY","$50116558f77987dc$var$POPUP_URL","$50116558f77987dc$var$markup","film","concat","id","poster_path","title","genres","release_date","vote_average","addEventListener","e","console","log","fetch","localStorage","getItem","then","data","json","posterPath","releaseYear","substring","voteAverage","insertAdjacentHTML"],"version":3,"file":"library.88dfc5ca.js.map"}