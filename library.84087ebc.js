if(!localStorage.getItem("myLibraryIds")){const t={idsArray:[]};localStorage.setItem("myLibraryIds",JSON.stringify(t))}const t={overlayPopUp:document.getElementById("overlayPopUp"),closeModalPopUp:document.getElementById("closeModalPopUp"),openModalPopUp:document.querySelector(".catalog__gallery"),openModalPopUp:document.getElementById("movies-container"),modalPopUp:document.getElementById("modalPopUp"),btnPopUp:document.getElementById("mylibrary"),closeIconPopUp:document.querySelector(".pop-up-modal__close-icon"),blokPopUp:document.querySelector(".pop-up-modal__blok"),aboutTxtPopUp:document.querySelector(".pop-up-modal__about-txt"),image:document.querySelector(".pop-up-modal__img"),titles:document.querySelector(".pop-up-modal__title"),vote:document.querySelector(".vote"),votes:document.querySelector(".votes"),popular:document.querySelector(".popularity"),genre:document.querySelector(".genres")},o="open-modal",e="visual";function l(){setTimeout((()=>{n(),async function(){try{const{id:o,poster_path:e,title:l,overview:n,popularity:p,vote_average:s,vote_count:c,genres:r}=await fetch(`https://api.themoviedb.org/3/movie/${localStorage.getItem("film-id")}?api_key=ec3ca0e4403710b7fc1497b1dbf32c54`).then((t=>t.json()));a=o,t.image.src=`https://image.tmdb.org/t/p/w500/${e}`,t.titles.textContent=l,t.vote.textContent=s,t.votes.textContent=c,t.popular.textContent=p,t.genre.textContent=r.map((t=>t.name)).join(" "),t.aboutTxtPopUp.textContent=n;const i=localStorage.getItem("myLibraryIds");JSON.parse(i).idsArray.includes(a)?t.btnPopUp.textContent="Remove from my library":t.btnPopUp.textContent="Add to my library"}catch(t){console.log(t)}}(),document.body.classList.toggle(o),overlayPopUp.classList.toggle(e),document.body.classList.toggle("modal-open"),modalPopUp.classList.toggle(e)}),0)}t.openModalPopUp&&t.openModalPopUp.addEventListener("click",l),t.closeModalPopUp.addEventListener("click",l),t.overlayPopUp.addEventListener("click",l),document.addEventListener("keydown",(function({code:t}){"Escape"===t&&modalPopUp.classList.contains(e)&&(n(),l())})),t.btnPopUp.addEventListener("click",(()=>{"Add to my library"===t.btnPopUp.textContent?t.btnPopUp.textContent="Remove from my library":t.btnPopUp.textContent="Add to my library"}));let a;function n(){document.body.classList.contains("light-theme")?(t.modalPopUp.classList.add("light_shadow","light_color"),t.btnPopUp.classList.add("light_color"),t.blokPopUp.classList.add("light_color"),t.closeIconPopUp.classList.add("light_fill"),t.aboutTxtPopUp.classList.add("light_color")):(t.modalPopUp.classList.remove("light_shadow","light_color"),t.btnPopUp.classList.remove("light_color"),t.blokPopUp.classList.remove("light_color"),t.closeIconPopUp.classList.remove("light_fill"),t.aboutTxtPopUp.classList.remove("light_color"))}t.btnPopUp.addEventListener("click",(function(){const t=localStorage.getItem("myLibraryIds"),o=JSON.parse(t);if(o.idsArray.includes(a)){const t=o.idsArray.indexOf(a);return o.idsArray.splice(t,1),void localStorage.setItem("myLibraryIds",`${JSON.stringify(o)}`)}o.idsArray.push(a),localStorage.setItem("myLibraryIds",`${JSON.stringify(o)}`)}));
//# sourceMappingURL=library.84087ebc.js.map
