{"mappings":"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","sources":["src/js/mogal-popup.js"],"sourcesContent":["const refs = {\n  overlayPopUp: document.getElementById('overlayPopUp'),\n  closeModalPopUp: document.getElementById('closeModalPopUp'),\n  openModalPopUp: document.getElementById('openModalPopUp'),\n  modalPopUp: document.getElementById('modalPopUp'),\n  btnPopUp: document.getElementById('mylibrary'),\n  closeIconPopUp: document.querySelector('.pop-up__close-icon'),\n  blokPopUp: document.querySelector('.pop-up__blok'),\n  aboutTxtPopUp: document.querySelector('.pop-up__about-txt'),\n\n  image: document.querySelector('.pop-up__img'),\n  titles: document.querySelector('.pop-up__title'),\n  vote: document.querySelector('.vote'),\n  votes: document.querySelector('.votes'),\n  popular: document.querySelector('.popularity'),\n  genre: document.querySelector('.genres'),\n  currentNavigation: document.querySelectorAll('.navigation__link'),\n};\n\n\nchangeCurrentNavigation();\n\nconst classes = {\n  openModal: 'open-modal',\n  visual: 'visual',\n};\n\nrefs.openModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.closeModalPopUp.addEventListener('click', handlePopUpModal);\nrefs.overlayPopUp.addEventListener('click', handlePopUpModal);\n\ndocument.addEventListener('keydown', handlePopUpModalClose)\n\nfunction handlePopUpModalClose({code}) {  \n  if (code === 'Escape' && modalPopUp.classList.contains(classes.visual)) {    \n    handlePopUpModal();\n  }\n}\n\nfunction handlePopUpModal() {\n  getPopUpMovies();\n  toogleLightPopUp();\n  document.body.classList.toggle(classes.openModal);\n  overlayPopUp.classList.toggle(classes.visual);\n  modalPopUp.classList.toggle(classes.visual);  \n  console.log(modalPopUp);  \n};\n\n// ===== Перемикач теми =====\nconst toogle = document.getElementById('toggle');\ntoogle.addEventListener('click', toogleLight);\n\nfunction toogleLight() {\ndocument.body.classList.toggle('light_color');\ntoogleLightPopUp();\n}\n\nfunction toogleLightPopUp() {   \n  if (document.body.classList.contains('light_color')) {\n  refs.modalPopUp.classList.add('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.add('light_color');  \n  refs.blokPopUp.classList.add('light_color');  \n  refs.closeIconPopUp.classList.add('light_fill');   \n  refs.aboutTxtPopUp.classList.add('light_color');  \n } else {\n  console.log(refs.modalPopUp.classList.contains('light_shadow'));  \n  refs.modalPopUp.classList.remove('light_shadow', 'light_color');  \n  refs.btnPopUp.classList.remove('light_color');  \n  refs.blokPopUp.classList.remove('light_color');  \n  refs.closeIconPopUp.classList.remove('light_fill');   \n  refs.aboutTxtPopUp.classList.remove('light_color');  \n }\n};\n\n// POPUP MOVIES\nconst API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst POPUP_URL = `https://api.themoviedb.org/3/movie/`;\nconst POPUP_ID = 840326;\n// 502356 840326 1008005\n\nfunction fetchPopUpMovies() {\n  return fetch(`${POPUP_URL}${POPUP_ID}?api_key=${API_KEY}`)\n  .then(data => {    \n    return data.json();      \n  })\n}\n\n\nasync function getPopUpMovies() {\n  try {\n    const { poster_path, title, overview, popularity, vote_average, vote_count, tagline, genres } = await fetchPopUpMovies();\n    refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n    refs.titles.textContent = title;\n    refs.vote.textContent = vote_average;\n    refs.votes.textContent = vote_count;\n    refs.popular.textContent = popularity;\n    console.log(genres);\n    refs.genre.textContent = genres.map((genres) => genres.name).join(\" \");\n    refs.aboutTxtPopUp.textContent = overview;\n  } catch (error) {\n    console.log(error);\n  }\n\n  function getPopUpMovies() {\n    fetchPopUpMovies()\n      .then(({ poster_path, title, overview, popularity, vote_average, vote_count, tagline, genres }) => {\n        console.log(genres)\n        refs.image.src = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n        refs.titles.textContent = title;\n        refs.vote.textContent = vote_average;\n        refs.votes.textContent = vote_count;\n        refs.popular.textContent = popularity;\n        refs.genre.textContent = tagline;\n        refs.aboutTxtPopUp.textContent = overview;\n      })\n      .catch(error => console.log(error));\n  }\n}\n\ngetPopUpMovies();\n\n\nfunction changeCurrentNavigation() {\n  refs.currentNavigation[0].classList.remove('current');\n  refs.currentNavigation[1].classList.remove('current');\n  refs.currentNavigation[2].classList.add('current');\n}"],"names":["$bpxeT","parcelRequire","$b6534554614b26e5$var$refs","overlayPopUp","document","getElementById","closeModalPopUp","openModalPopUp","modalPopUp","btnPopUp","closeIconPopUp","querySelector","blokPopUp","aboutTxtPopUp","image","titles","vote","votes","popular","genre","currentNavigation","querySelectorAll","classList","remove","add","$b6534554614b26e5$var$classes","$b6534554614b26e5$var$handlePopUpModal","$b6534554614b26e5$var$getPopUpMovies","$b6534554614b26e5$var$toogleLightPopUp","body","toggle","console","log","contains","addEventListener","param","code","$b6534554614b26e5$var$fetchPopUpMovies","fetch","concat","then","data","json","$b6534554614b26e5$var$_getPopUpMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","ref","poster_path1","title1","overview1","popularity1","vote_average1","vote_count1","genres1","poster_path","title","overview","popularity","vote_average","vote_count","tagline","genres","src","textContent","catch","error","_ctx","sent","map","name","join","t0"],"version":3,"file":"library.09f30df6.js.map"}