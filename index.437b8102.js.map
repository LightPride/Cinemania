{"mappings":"AAOSA,MANQ,mGAOZC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACAA,EAAKC,KACPC,EAAcC,UAAY,IAiBlC,SAA2BH,GACzB,IACE,MAAMI,EAAkBJ,EAAKK,QAAQC,OAAS,EAExCC,EAAcC,KAAKC,OAaJC,EAb0B,EAarBC,EAbwBP,EAc7CI,KAAKI,UAAYD,EAAMD,GAAOA,KAKvC,SAAoBG,GAClBC,EAAaD,EAAKE,MAClBb,EAAcC,UAAY,0DAA0DU,EAAKG,+CACzDH,EAAKI,oDACNJ,EAAKK,2BAIiCC,OAA9DC,iBAAiB,OAAQC,EAAkBR,IAClDM,OAAOC,iBAAiB,SAAUC,EAAkBR,IACpDS,EAAaF,iBAAiB,QAASG,GACvCC,EAAcJ,iBAAiB,QAASG,GACxCE,EAAQL,iBAAiB,SAASM,IAC3BA,GACHH,GAAa,G,CA7BfI,CAFa3B,EAAKK,QAAQE,G,CAG1B,MAAOqB,GACPC,QAAQC,IAAIF,GACZG,EAAUC,UAAUC,OAAO,wBAC3BC,EAAOF,UAAUG,IAAI,gBACrBV,EAAQO,UAAUG,IAAI,S,CAI1B,IAAyBzB,EAAKC,C,CAhCxByB,CAAkBpC,EAAK,IAExBqC,OAAMT,GAASC,QAAQC,IAAIF,KAGhC,MAAM1B,EAAgBoC,SAASC,KAAKC,cAAc,mBAC5CN,EAASI,SAASC,KAAKC,cAAc,SAErCT,GADWO,SAASC,KAAKC,cAAc,mBAC3BF,SAASC,KAAKC,cAAc,0BACxCf,EAAUa,SAASC,KAAKC,cAAc,kBACtClB,EAAegB,SAASE,cAAc,kBACtChB,EAAgBc,SAASE,cAAc,qBACvCC,EAAQH,SAASE,cAAc,gBACfF,SAASC,KAAKC,cAAc,aAuBlD,IAAI1B,GAAa,EAqBjB,SAASO,EAAkBR,GACzB,MAAM6B,EAAcvB,OAAOwB,YAGvBD,GAAe,KAERA,GAAe,MAEfA,GAAe,QAHxBX,EAAUa,MAAMC,gBAAkB,4CAAkBhC,EAAKiC,kB,CAQ7D,SAASvB,IACPe,SAASC,KAAKP,UAAUe,OAAO,cAC/BN,EAAMT,UAAUe,OAAO,Y","sources":["src/js/hero.js"],"sourcesContent":["const API_KEY = 'ec3ca0e4403710b7fc1497b1dbf32c54';\nconst BASE_URL = `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}&page=1`;\nconst IMG_URL = 'https://image.tmdb.org/t/p/original/';\n\nfetchMovieOfTheDay();\n\nfunction fetchMovieOfTheDay() {\n  return fetch(BASE_URL)\n    .then(response => response.json())\n    .then(data => {\n      if (data.ok) {\n        heroContainer.innerHTML = '';\n      }\n      makeMovieOfTheDay(data);\n    })\n    .catch(error => console.log(error));\n}\n\nconst heroContainer = document.body.querySelector('.hero-container');\nconst heroEl = document.body.querySelector('.hero');\nconst heroFilm = document.body.querySelector('.hero_with-film');\nconst heroBckgr = document.body.querySelector('.hero-film_background');\nconst heroBtn = document.body.querySelector('.hero-film_btn');\nconst openModalBtn = document.querySelector('.hero-film_btn');\nconst closeModalBtn = document.querySelector('.modal__close-btn');\nconst modal = document.querySelector('[data-modal]');\nconst getStartedBtn = document.body.querySelector('.hero-btn');\n\nfunction makeMovieOfTheDay(data) {\n  try {\n    const valueOfElements = data.results.length - 1;\n\n    const movieNumber = Math.round(getRandomNumber(0, valueOfElements));\n\n    const film = data.results[movieNumber];\n\n    makeMarkup(film);\n  } catch (error) {\n    console.log(error);\n    heroBckgr.classList.remove('hero-film_background');\n    heroEl.classList.add('hero-default');\n    heroBtn.classList.add('hidden');\n  }\n}\n\nfunction getRandomNumber(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nlet videoCheck = true;\n\nfunction makeMarkup(film) {\n  videoCheck = film.video;\n  heroContainer.innerHTML = `<div class=\"hero-film_box\"><h2 class=\"hero-film_title\">${film.title}</h2>\n    <p class=\"hero-film_rating\">${film.vote_average}</p>\n    <p class=\"hero-film_descr\">${film.overview}</p>\n    </div>`;\n\n  // Викликаємо функцію при завантаженні сторінки та при зміні ширини вікна браузера\n  window.addEventListener('load', setHeroBackground(film));\n  window.addEventListener('resize', setHeroBackground(film));\n  openModalBtn.addEventListener('click', toggleModal);\n  closeModalBtn.addEventListener('click', toggleModal);\n  heroBtn.addEventListener('click', videoCheck => {\n    if (!videoCheck) {\n      toggleModal();\n    }\n  });\n}\n\nfunction setHeroBackground(film) {\n  const windowWidth = window.innerWidth;\n\n  // змінюємо вигляд бекграунда в залежності від ширини екрана\n  if (windowWidth <= 767) {\n    heroBckgr.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n  } else if (windowWidth <= 1279) {\n    heroBckgr.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n  } else if (windowWidth >= 1280) {\n    heroBckgr.style.backgroundImage = `url('${IMG_URL}${film.backdrop_path}')`;\n  }\n}\n\nfunction toggleModal() {\n  document.body.classList.toggle('modal-open');\n  modal.classList.toggle('is-hidden');\n}\n"],"names":["fetch","then","response","json","data","ok","$aab6d1c60b3e9a0a$var$heroContainer","innerHTML","valueOfElements","results","length","movieNumber","Math","round","min","max","random","film","$aab6d1c60b3e9a0a$var$videoCheck","video","title","vote_average","overview","window","addEventListener","$aab6d1c60b3e9a0a$var$setHeroBackground","$aab6d1c60b3e9a0a$var$openModalBtn","$aab6d1c60b3e9a0a$var$toggleModal","$aab6d1c60b3e9a0a$var$closeModalBtn","$aab6d1c60b3e9a0a$var$heroBtn","videoCheck1","$aab6d1c60b3e9a0a$var$makeMarkup","error","console","log","$aab6d1c60b3e9a0a$var$heroBckgr","classList","remove","$aab6d1c60b3e9a0a$var$heroEl","add","$aab6d1c60b3e9a0a$var$makeMovieOfTheDay","catch","document","body","querySelector","$aab6d1c60b3e9a0a$var$modal","windowWidth","innerWidth","style","backgroundImage","backdrop_path","toggle"],"version":3,"file":"index.437b8102.js.map"}