const e=document.querySelector("#movies-container");async function t(t,n){e.innerHTML="";const a=document.createElement("ul");a.classList.add("weekly-list"),e.appendChild(a);const i=t.slice(0,n),s=await Promise.all(i.map((async e=>{const t=await async function(e){const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=ec3ca0e4403710b7fc1497b1dbf32c54&language=en-US"),{genres:n}=await t.json();return e.map((e=>n.find((t=>t.id===e))?.name)).join(", ")}(e.genre_ids),n=e.title.slice(0,e.title.indexOf(":")),a=e.release_date.slice(0,4),i=e.vote_average.toFixed(1),s=document.createElement("li");s.classList.add("weekly-item");const d=document.createElement("div");d.classList.add("weekly-wrapper");const c=document.createElement("div");c.classList.add("weekly-info");const o=document.createElement("h3");o.classList.add("weekly-info__title"),o.innerText=`${n}`;const l=document.createElement("span");l.classList.add("weekly-info__genres__data"),l.innerText=`${t.split(",").slice(0,1).join(", ")} | ${a}`;const r=document.createElement("div");r.classList.add("weekly-rating");const p=document.createElement("span");p.innerText=`${i}`,r.appendChild(p);const m=document.createElement("div");m.classList.add("catalog-list__additional-info"),m.appendChild(l),m.appendChild(function(e){const t=document.createElement("div");t.classList.add("stars-container");const n=document.createElement("div");n.classList.add("st-gray"),n.classList.add("flex"),n.innerHTML="⭐⭐⭐⭐⭐";const a=document.createElement("div");a.innerHTML="⭐⭐⭐⭐⭐",a.classList.add("st"),a.classList.add("flex"),t.append(n,a),document.body.appendChild(t);const i=a.offsetHeight;return a.style.width=e/2*i+"px",t}(i)),m.title=i;const u=document.createElement("img");return u.src=`https://image.tmdb.org/t/p/w500${e.poster_path}`,u.alt=`${e.title} movie poster`,u.classList.add("weekly-img"),u.setAttribute("width","500"),c.appendChild(o),c.appendChild(m),d.appendChild(c),s.appendChild(d),s.appendChild(u),s})));a.append(...s)}function n(){const e=window.innerWidth<768?1:3;(async function(){try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ec3ca0e4403710b7fc1497b1dbf32c54&language=en-US&page=1");if(!e.ok)throw new Error(e.status);const{results:t}=await e.json();return t}catch(e){console.log(e)}})().then((n=>t(n,e)))}n(),window.addEventListener("resize",n);
//# sourceMappingURL=index.07736f4c.js.map
