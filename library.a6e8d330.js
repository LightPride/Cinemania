if(!localStorage.getItem("myLibraryIds")){const o={idsArray:[]};localStorage.setItem("myLibraryIds",JSON.stringify(o))}const o={overlayPopUp:document.getElementById("overlayPopUp"),closeModalPopUp:document.getElementById("closeModalPopUp"),openModalPopUp:document.querySelector(".catalog__gallery"),modalPopUp:document.getElementById("modalPopUp"),btnPopUp:document.getElementById("mylibrary"),closeIconPopUp:document.querySelector(".pop-up-modal__close-icon"),blokPopUp:document.querySelector(".pop-up-modal__blok"),aboutTxtPopUp:document.querySelector(".pop-up-modal__about-txt"),image:document.querySelector(".pop-up-modal__img"),titles:document.querySelector(".pop-up-modal__title"),vote:document.querySelector(".vote"),votes:document.querySelector(".votes"),popular:document.querySelector(".popularity"),genre:document.querySelector(".genres")},t="open-modal",e="visual";function l(){c(),async function(){try{const{id:t,poster_path:e,title:l,overview:c,popularity:s,vote_average:p,vote_count:r,genres:i}=await fetch(`https://api.themoviedb.org/3/movie/${localStorage.getItem("film-id")}?api_key=ec3ca0e4403710b7fc1497b1dbf32c54`).then((o=>o.json()));a=t,o.image.src=`https://image.tmdb.org/t/p/w500/${e}`,o.titles.textContent=l,o.vote.textContent=p,o.votes.textContent=r,o.popular.textContent=s,o.genre.textContent=i.map((o=>o.name)).join(" "),o.aboutTxtPopUp.textContent=c}catch(o){console.log(o)}}(),document.body.classList.toggle(t),overlayPopUp.classList.toggle(e),modalPopUp.classList.toggle(e)}o.openModalPopUp.addEventListener("click",l),o.closeModalPopUp.addEventListener("click",l),o.overlayPopUp.addEventListener("click",l),document.addEventListener("keydown",(function({code:o}){"Escape"===o&&modalPopUp.classList.contains(e)&&(c(),l())}));let a;function c(){document.body.classList.contains("light-theme")?(o.modalPopUp.classList.add("light_shadow","light_color"),o.btnPopUp.classList.add("light_color"),o.blokPopUp.classList.add("light_color"),o.closeIconPopUp.classList.add("light_fill"),o.aboutTxtPopUp.classList.add("light_color")):(o.modalPopUp.classList.remove("light_shadow","light_color"),o.btnPopUp.classList.remove("light_color"),o.blokPopUp.classList.remove("light_color"),o.closeIconPopUp.classList.remove("light_fill"),o.aboutTxtPopUp.classList.remove("light_color"))}o.btnPopUp.addEventListener("click",(function(){const o=localStorage.getItem("myLibraryIds"),t=JSON.parse(o);if(t.idsArray.includes(a)){const o=t.idsArray.indexOf(a);return t.idsArray.splice(o,1),void localStorage.setItem("myLibraryIds",`${JSON.stringify(t)}`)}t.idsArray.push(a),localStorage.setItem("myLibraryIds",`${JSON.stringify(t)}`)}));
//# sourceMappingURL=library.a6e8d330.js.map
